diff --git a/meta-st-stm32mp/conf/eula/stm32mp1-ies b/meta-st-stm32mp/conf/eula/stm32mp1-ies
new file mode 100644
index 00000000..e59cbd98
--- /dev/null
+++ b/meta-st-stm32mp/conf/eula/stm32mp1-ies
@@ -0,0 +1,432 @@
+SLA0048 Rev4/March 2018
+
+BY INSTALLING COPYING, DOWNLOADING, ACCESSING OR OTHERWISE USING THIS SOFTWARE PACKAGE OR ANY PART THEREOF (AND THE RELATED DOCUMENTATION) FROM STMICROELECTRONICS INTERNATIONAL N.V, SWISS BRANCH AND/OR ITS AFFILIATED COMPANIES (STMICROELECTRONICS), THE RECIPIENT, ON BEHALF OF HIMSELF OR HERSELF, OR ON BEHALF OF ANY ENTITY BY WHICH SUCH RECIPIENT IS EMPLOYED AND/OR ENGAGED AGREES TO BE BOUND BY THIS SOFTWARE PACKAGE LICENSE AGREEMENT.
+
+Under STMicroelectronics’ intellectual property rights and subject to applicable licensing terms for any third-party software incorporated in this software package and applicable Open Source Terms (as defined here below), the redistribution, reproduction and use in source and binary forms of the software package or any part thereof, with or without modification, are permitted provided that the following conditions are met:
+1. Redistribution of source code (modified or not) must retain any copyright notice, this list of conditions and the following disclaimer.
+2. Redistributions in binary form, except as embedded into microcontroller or microprocessor device manufactured by or for STMicroelectronics or a software update for such device, must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
+3. Neither the name of STMicroelectronics nor the names of other contributors to this software package may be used to endorse or promote products derived from this software package or part thereof without specific written permission.
+4. This software package or any part thereof, including modifications and/or derivative works of this software package, must be used and execute solely and exclusively on or in combination with a microcontroller or a microprocessor devices manufactured by or for STMicroelectronics.
+5. No use, reproduction or redistribution of this software package partially or totally may be done in any manner that would subject this software package to any Open Source Terms (as defined below).
+6. Some portion of the software package may contain software subject to Open Source Terms (as defined below) applicable for each such portion (“Open Source Software”), as further specified in the software package. Such Open Source Software is supplied under the applicable Open Source Terms and is not subject to the terms and conditions of license hereunder. “Open Source Terms” shall mean any open source license which requires as part of distribution of software that the source code of such software is distributed therewith or otherwise made available, or open source license that substantially complies with the Open Source definition specified at www.opensource.org and any other comparable open source license such as for example GNU General Public License (GPL), Eclipse Public License (EPL), Apache Software License, BSD license and MIT license.
+7. This software package may also include third party software as expressly specified in the software package subject to specific license terms from such third parties. Such third party software is supplied under such specific license terms and is not subject to the terms and conditions of license hereunder. By installing copying, downloading, accessing or otherwise using this software package, the recipient agrees to be bound by such license terms with regard to such third party software.
+8. STMicroelectronics has no obligation to provide any maintenance, support or updates for the software package.
+9. The software package is and will remain the exclusive property of STMicroelectronics and its licensors. The recipient will not take any action that jeopardizes STMicroelectronics and its licensors' proprietary rights or acquire any rights in the software package, except the limited rights specified hereunder.
+10. The recipient shall comply with all applicable laws and regulations affecting the use of the software package or any part thereof including any applicable export control law or regulation.
+11. Redistribution and use of this software package partially or any part thereof other than as permitted under this license is void and will automatically terminate your rights under this license.
+
+THIS SOFTWARE PACKAGE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE PACKAGE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+EXCEPT AS EXPRESSLY PERMITTED HEREUNDER AND SUBJECT TO THE APPLICABLE LICENSING TERMS FOR ANY THIRD-PARTY SOFTWARE INCORPORATED IN THE SOFTWARE PACKAGE AND OPEN SOURCE TERMS AS APPLICABLE, NO LICENSE OR OTHER RIGHTS, WHETHER EXPRESS OR IMPLIED, ARE GRANTED UNDER ANY PATENT OR OTHER INTELLECTUAL PROPERTY RIGHTS OF STMICROELECTRONICS OR ANY THIRD PARTY.
+
+###############################################################################
+
+Vivante End User Software License Terms
+
+The following are the terms to be agreed to by end users of Vivante Software licensed herein:
+
+Copyright 2003-2017 Vivante Corporation, all rights reserved.
+
+Use, reproduction and redistribution of this software in binary form, without modification and solely for use in conjunction with STMicroelectronics semiconductor chips with the Linux operating system environment that contain Vivante Corporation’s technology, are permitted provided that the following conditions are met:
+
+* Redistributions must reproduce the above copyright notice, this list of conditions and the following disclaimers in the documentation and/or other materials provided with the distribution.
+
+* Neither the name nor trademarks of STMicroelectronics International N.V. nor any other STMicroelectronics company (nor Vivante Corporation unless permission is granted separately by Vivante Corporation) may be used to endorse or promote products derived from this software without specific prior written permission.
+
+* No reverse engineering, decompilation or disassembly of this software is permitted.
+
+* No use, reproduction or redistribution of this software may be done in any manner that may cause this software to be redistributed as part of the Linux kernel or in any other manner that would subject this software to the terms of the GNU General Public License, the GNU Lesser General Public License, or any other copyleft license.
+
+DISCLAIMERS:
+
+THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER(S) "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT, ARE DISCLAIMED. IN NO EVENT SHALL STMICROELECTRONICS INTERNATIONAL N.V. NOR ANY OTHER STMICROELECTRONICS COMPANY (NOR VIVANTE CORPORATION) BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+
+THE DELIVERY OF THIS SOFTWARE DOES NOT CONVEY ANY LICENSE, WHETHER EXPRESS OR IMPLIED, TO ANY THIRD-PARTY INTELLECTUAL PROPERTY RIGHTS.
+
+EXCEPT THE LIMITED RIGHT TO USE, REPRODUCE AND REDISTRIBUTE THIS SOFTWARE IN BINARY FORM, NO LICENSE OR OTHER RIGHTS, WHETHER EXPRESS OR IMPLIED, ARE GRANTED UNDER ANY PATENT OR OTHER INTELLECTUAL PROPERTY RIGHTS OF STMICROELECTRONICS INTERNATIONAL N.V. OR ANY OTHER STMICROELECTRONICS COMPANY (OR VIVANTE CORPORATION).
+
+
+###############################################################################
+
+### CYPRESS WIRELESS CONNECTIVITY DEVICES
+### DRIVER END USER LICENSE AGREEMENT (SOURCE AND BINARY DISTRIBUTION)
+
+PLEASE READ THIS END USER LICENSE AGREEMENT ("Agreement") CAREFULLY BEFORE DOWNLOADING, INSTALLING, OR USING THIS SOFTWARE, ANY ACCOMPANYING DOCUMENTATION, OR ANY UPDATES PROVIDED BY CYPRESS ("Software").  BY DOWNLOADING, INSTALLING, OR USING THE SOFTWARE, YOU ARE AGREEING TO BE BOUND BY THIS AGREEMENT.  IF YOU DO NOT AGREE TO ALL OF THE TERMS OF THIS AGREEMENT, PROMPTLY RETURN AND DO NOT USE THE SOFTWARE.  IF YOU HAVE PURCHASED THE SOFTWARE, YOUR RIGHT TO RETURN THE SOFTWARE EXPIRES 30 DAYS AFTER YOUR PURCHASE AND APPLIES ONLY TO THE ORIGINAL PURCHASER.
+
+Software Provided in Binary Code Form.  This paragraph applies to any Software provided in binary code form.  Subject to the terms and conditions of this Agreement, Cypress Semiconductor Corporation ("Cypress") grants you a non-exclusive, non-transferable license under its copyright rights in the Software to reproduce and distribute the Software in object code form only, solely for use in connection with Cypress integrated circuit products ("Purpose").
+
+Software Provided in Source Code Form.  This paragraph applies to any Software provided in source code form ("Cypress Source Code").  Subject to the terms and conditions of this Agreement, Cypress grants you a non-exclusive, non-transferable license under its copyright rights in the Cypress Source Code to reproduce, modify, compile, and distribute the Cypress Source Code (whether in source code form or as compiled into binary code form) solely for the Purpose.  Cypress retains ownership of the Cypress Source Code and any compiled version thereof.  Subject to Cypress' ownership of the underlying Cypress Source Code, you retain ownership of any modifications you make to the Cypress Source Code.  You agree not to remove any Cypress copyright or other notices from the Cypress Source Code and any modifications thereof.  Any reproduction, modification, translation, compilation, or representation of the Cypress Source Code except as permitted in this paragraph is prohibited without the express written permission of Cypress.
+
+Free and Open Source Software.  Portions of the Software may be licensed under free and/or open source licenses such as the GNU General Public License ("FOSS").  FOSS is subject to the applicable license agreement and not this Agreement.  If you are entitled to receive the source code from Cypress for any FOSS included with the Software, either the source code will  be included with the Software or you may obtain the source code at no charge from <http://www.cypress.com/go/opensource>.  The applicable license terms will accompany each source code package.  To review the license terms applicable to any FOSS for which Cypress is not required to provide you with source code, please see the Software's installation directory on your computer.
+
+Proprietary Rights.  The Software, including all intellectual property rights therein, is and will remain the sole and exclusive property of Cypress or its suppliers.  Except as otherwise expressly provided in this Agreement, you may not: (i) modify, adapt, or create derivative works based upon the Software; (ii) copy the Software; (iii) except and only to the extent explicitly permitted by applicable law despite this limitation, decompile, translate, reverse engineer, disassemble or otherwise reduce the Software to human-readable form; or (iv) use the Software other than for the Purpose.
+
+No Support.  Cypress may, but is not required to, provide technical support for the Software.
+
+Term and Termination.  This Agreement is effective until terminated, and either party may terminate this Agreement at any time with or without cause.  Your license rights under this Agreement will terminate immediately without notice from Cypress if you fail to comply with any provision of this Agreement.  Upon termination, you must destroy all copies of Software in your possession or control.  Termination of this Agreement will not affect any licenses validly granted as of the termination date to any end users of the Software.  The following paragraphs shall survive any termination of this Agreement: "Free and Open Source Software," "Proprietary Rights," "Compliance With Law," "Disclaimer," "Limitation of Liability," and "General."
+
+Compliance With Law.  Each party agrees to comply with all applicable laws, rules and regulations in connection with its activities under this Agreement. Without limiting the foregoing, the Software may be subject to export control laws and regulations of the United States and other countries.  You agree to comply strictly with all such laws and regulations and acknowledge that you have the responsibility to obtain licenses to export, re-export, or import the Software.
+
+Disclaimer.  TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH REGARD TO THE SOFTWARE, INCLUDING, BUT NOT LIMITED TO, INFRINGEMENT AND THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. Cypress reserves the right to make changes to the Software without notice. Cypress does not assume any liability arising out of the application or use of Software or any product or circuit described in the Software. Cypress does not authorize its products for use as critical components in life-support systems where a malfunction or failure may reasonably be expected to result in significant injury to the user. The inclusion of Cypress' product in a life-support system or application implies that the manufacturer of such system or application assumes all risk of such use and in doing so indemnifies Cypress against all charges.
+
+Limitation of Liability.  IN NO EVENT WILL CYPRESS OR ITS SUPPLIERS, RESELLERS, OR DISTRIBUTORS BE LIABLE FOR ANY LOST REVENUE, PROFIT, OR DATA, OR FOR SPECIAL, INDIRECT, CONSEQUENTIAL, INCIDENTAL, OR PUNITIVE DAMAGES HOWEVER CAUSED AND REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THE SOFTWARE EVEN IF CYPRESS OR ITS SUPPLIERS, RESELLERS, OR DISTRIBUTORS HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.  IN NO EVENT SHALL CYPRESS' OR ITS SUPPLIERS' RESELLERS', OR DISTRIBUTORS' TOTAL LIABILITY TO YOU, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), OR OTHERWISE, EXCEED THE PRICE PAID BY YOU FOR THE SOFTWARE. THE FOREGOING LIMITATIONS SHALL APPLY EVEN IF THE ABOVE-STATED WARRANTY FAILS OF ITS ESSENTIAL PURPOSE.  BECAUSE SOME STATES OR JURISDICTIONS DO NOT ALLOW LIMITATION OR EXCLUSION OF CONSEQUENTIAL OR INCIDENTAL DAMAGES, THE ABOVE LIMITATION MAY NOT APPLY TO YOU.
+
+Restricted Rights.  The Software under this Agreement is commercial computer software as that term is described in 48 C.F.R. 252.227-7014(a)(1).  If acquired by or on behalf of a civilian agency, the U.S. Government acquires this commercial computer software and/or commercial computer software documentation subject to the terms of this Agreement as specified in 48 C.F.R. 12.212 (Computer Software) and 12.211 (Technical Data) of the Federal Acquisition Regulations ("FAR") and its successors.  If acquired by or on behalf of any agency within the Department of Defense ("DOD"), the U.S. Government acquires this commercial computer software and/or commercial computer software documentation subject to the terms of this Agreement as specified in 48 C.F.R. 227.7202-3 of the DOD FAR Supplement ("DFAR") and its successors.
+
+General.  This Agreement will bind and inure to the benefit of each party's successors and assigns, provided that you may not assign or transfer this Agreement, in whole or in part, without Cypress' written consent.  This Agreement shall be governed by and construed in accordance with the laws of the State of California, United States of America, as if performed wholly within the state and without giving effect to the principles of conflict of law.  The parties consent to personal and exclusive jurisdiction of and venue in, the state and federal courts within Santa Clara County, California; provided however, that nothing in this Agreement will limit Cypress' right to bring legal action in any venue in order to protect or enforce its intellectual property rights.  No failure of either party to exercise or enforce any of its rights under this Agreement will act as a waiver of such rights.  If any portion hereof is found to be void or unenforceable, the remaining provisions of this Agreement shall remain in full force and effect.  This Agreement is the complete and exclusive agreement between the parties with respect to the subject matter hereof, superseding and replacing any and all prior agreements, communications, and understandings (both written and oral) regarding such subject matter.  Any notice to Cypress will be deemed effective when actually received and must be sent to Cypress Semiconductor Corporation, ATTN: Chief Legal Officer, 198 Champion Court, San
+Jose, CA 95134 USA.
+
+
+###############################################################################
+
+BROADCOM BCM43XX
+
+SOFTWARE LICENSE AGREEMENT
+
+The accompanying software in binary code form (“Software”), is licensed to you, or, if you are accepting on behalf of an entity, the entity and its affiliates exercising rights hereunder (“Licensee”) subject to the terms of this software license agreement (“Agreement”), unless Licensee and Broadcom Corporation (“Broadcom”) execute a separate written software license agreement governing use of the Software. ANY USE, REPRODUCTION, OR DISTRIBUTION OF THE SOFTWARE CONSTITUTES LICENSEE’S ACCEPTANCE OF THIS AGREEMENT.
+
+1.  License. Subject to the terms and conditions of this Agreement, Broadcom hereby grants to Licensee a limited, non-exclusive, non-transferable, royalty-free license: (i) to use and integrate the Software with any other software; and (ii) to reproduce and distribute the Software complete, unmodified, and as provided by Broadcom, solely for use with Broadcom proprietary integrated circuit product(s) sold by Broadcom with which the Software was designed to be used, or their successors.
+
+2.  Restrictions. Licensee shall distribute Software with a copy of this Agreement. Licensee shall not remove, efface or obscure any copyright or trademark notices from the Software. Reproductions of the Broadcom copyright notice shall be included with each copy of the Software, except where such Software is embedded in a manner not readily accessible to the end user.
+Licensee shall not: (i) use, license, sell or otherwise distribute the Software except as provided in this Agreement; (ii) attempt to modify in any way, reverse engineer, decompile or disassemble any portion of the Software; or (iii) use the Software or other material in violation of any applicable law or regulation, including but not limited to any regulatory agency. This Agreement shall automatically terminate upon Licensee’s failure to comply with any of the terms of this Agreement. In such event, Licensee will destroy all copies of the Software and its component parts.
+
+3.  Ownership. The Software is licensed and not sold.  Title to and ownership of the Software, including all intellectual property rights thereto, and any portion thereof remain with Broadcom or its licensors. Licensee hereby covenants that it will not assert any claim that the Software created by or for Broadcom infringe any intellectual property right owned or controlled by Licensee.
+
+4.  Disclaimer. THE SOFTWARE IS OFFERED “AS IS,” AND BROADCOM PROVIDES AND GRANTS AND LICENSEE RECEIVES NO SUPPORT AND NO WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, BY STATUTE, COMMUNICATION OR CONDUCT WITH LICENSEE, OR OTHERWISE.
+BROADCOM SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A SPECIFIC PURPOSE, OR NONINFRINGEMENT CONCERNING THE SOFTWARE OR ANY UPGRADES TO OR DOCUMENTATION FOR THE SOFTWARE. WITHOUT LIMITATION OF THE ABOVE, BROADCOM GRANTS NO WARRANTY THAT THE SOFTWARE IS ERROR-FREE OR WILL OPERATE WITHOUT INTERRUPTION, AND GRANTS NO WARRANTY REGARDING ITS USE OR THE RESULTS THEREFROM INCLUDING, WITHOUT LIMITATION, ITS CORRECTNESS, ACCURACY, OR RELIABILITY. TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT SHALL BROADCOM OR ANY OF ITS LICENSORS HAVE ANY LIABILITY FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES, HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER FOR BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE) OR OTHERWISE, ARISING OUT OF THIS AGREEMENT OR USE, REPRODUCTION, OR DISTRIBUTION OF THE SOFTWARE, INCLUDING BUT NOT LIMITED TO LOSS OF DATA AND LOSS OF PROFITS, EVEN IF SUCH PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THESE LIMITATIONS SHALL APPLY NOTWITHSTANDING ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY.
+
+5.  Export Laws.  LICENSEE UNDERSTANDS AND AGREES THAT THE SOFTWARE IS SUBJECT TO UNITED STATES AND OTHER APPLICABLE EXPORT-RELATED LAWS AND REGULATIONS AND THAT LICENSEE MAY NOT EXPORT, RE-EXPORT OR TRANSFER THE SOFTWARE OR ANY DIRECT PRODUCT OF THE SOFTWARE EXCEPT AS PERMITTED UNDER THOSE LAWS. WITHOUT LIMITING THE FOREGOING, EXPORT, RE-EXPORT, OR TRANSFER OF THE SOFTWARE TO CUBA, IRAN, NORTH KOREA, SUDAN, AND SYRIA IS PROHIBITED.
+
+###############################################################################
+
+List of Packages:
+  alsa-state-stm32mp1              1.0                      MIT
+  alsa-state-stm32mp2              1.0                      MIT
+  dtbo-stm32mp21x                  1.0                      GPL-2.0-only | BSD-3-Clause
+  linux-examples-stm32mp1          5.4+                     MIT
+  linux-firmware-addons-bcm43xx    6.0                      Cypress-bcm43xx
+  linux-stm32mp                    6.6.78-stm32mp-r2        GPL-2.0-only
+  m0projects-stm32mp2              1.2.0                    Apache-2.0 & MIT & BSD-3-Clause
+  m33projects-stm32mp2             1.2.0                    Apache-2.0 & MIT & BSD-3-Clause
+  m33tdprojects-starter-stm32mp2   1.2.0                    Apache-2.0 & MIT & BSD-3-Clause
+  optee-os-stm32mp                 4.0.0-stm32mp-r2         BSD-2-Clause & BSD-3-Clause
+  stm32-ddr-tools                  1.0                      MIT
+  stm32mp-extlinux                 3.1.1                    MIT
+  tf-a-stm32mp                     v2.10.13-stm32mp-r2      BSD-3-Clause
+  tf-m-stm32mp                     v2.1.0-stm32mp-r1        BSD-3-Clause & Apache-2.0
+  u-boot-stm32mp-splash            2018.11                  Proprietary
+  u-boot-stm32mp                   v2023.10-stm32mp-r2      GPL-2.0-or-later
+
+###############################################################################
+
+List of Packages:
+  adwaita-icon-theme               45.0                     LGPL-3.0-only | CC-BY-SA-3.0
+  ai-hand-char-reco-launcher       2.1                      GPL-2.0-only & BSD-3-Clause
+  alsa-lib                         1.2.11                   LGPL-2.1-only & GPL-2.0-or-later
+  alsa-plugins                     1.2.7.1                  LGPL-2.1-only & GPL-2.0-or-later
+  alsa-state                       0.2.0                    MIT & GPL-2.0-or-later
+  alsa-state-script                1.0                      MIT
+  alsa-topology-conf               1.2.5.1                  BSD-3-Clause
+  alsa-ucm-conf                    1.2.11                   BSD-3-Clause
+  alsa-utils                       1.2.11                   GPL-2.0-only
+  apt                              2.6.1                    GPL-2.0-or-later
+  apt-openstlinux                  6.1                      MIT
+  at-spi2-core                     2.50.1                   LGPL-2.1-or-later
+  attr                             2.5.1                    LGPL-2.1-or-later
+  avahi                            0.8                      LGPL-2.1-or-later
+  babeltrace                       1.5.11                   MIT & GPL-2.0-only & LGPL-2.1-only
+  babeltrace2                      2.0.6                    MIT & GPL-2.0-only & LGPL-2.1-only & BSD-2-Clause
+  base-files                       3.0.14                   GPL-2.0-only
+  base-passwd                      3.6.3                    GPL-2.0-only
+  bash                             5.2.21                   GPL-3.0-or-later
+  bc                               1.07.1                   GPL-3.0-or-later
+  blktool                          4-7.1                    GPL-2.0-or-later
+  blktrace                         1.3.0+git                GPL-2.0-only
+  bluetooth-suspend                1.0                      MIT
+  bluez5                           5.72                     GPL-2.0-or-later & LGPL-2.1-or-later
+  boost                            1.84.0                   BSL-1.0 & MIT & Python-2.0
+  bridge-utils                     1.7.1                    GPL-2.0-only
+  build-info-openstlinux           1.0                      MIT
+  busybox                          1.36.1                   GPL-2.0-only & bzip2-1.0.4
+  bzip2                            1.0.8                    bzip2-1.0.6
+  ca-certificates                  20211016                 GPL-2.0-or-later & MPL-2.0
+  cairo                            1.18.0                   MPL-1.1 | LGPL-2.1-only
+  can-utils                        2023.03                  GPL-2.0-only & BSD-3-Clause
+  ckermit                          302                      BSD-3-Clause
+  coreutils                        9.4                      GPL-3.0-or-later
+  cpufrequtils                     008                      GPL-2.0-only
+  cracklib                         2.9.11                   LGPL-2.1-or-later
+  cryptodev-module                 1.14                     GPL-2.0-only
+  curl                             8.7.1                    curl
+  db                               5.3.28                   Sleepycat
+  dbus                             1.14.10                  AFL-2.1 | GPL-2.0-or-later
+  dcmipp-isp-ctrl                  5.1+git-5c78a4b4         BSD-3-Clause
+  demo-application-3d-cube         3.0                      BSD-3-Clause
+  demo-application-bluetooth       2.1                      BSD-3-Clause
+  demo-application-camera          2.0                      BSD-3-Clause
+  demo-application-netdata-hotspot 2.0                      BSD-3-Clause
+  demo-application-video           2.0                      BSD-3-Clause
+  demo-gtk                         2.2                      BSD-3-Clause
+  demo-hotspot-wifi                1.0                      MIT
+  demo-launcher                    2.3                      BSD-3-Clause
+  desktop-file-utils               0.27                     GPL-2.0-or-later
+  dosfstools                       4.2                      GPL-3.0-only
+  dpkg                             1.22.0                   GPL-2.0-or-later
+  dropbear                         2022.83                  MIT & BSD-3-Clause & BSD-2-Clause & PD
+  duktape                          2.7.0                    MIT
+  e2fsprogs                        1.47.0                   GPL-2.0-only & LGPL-2.0-only & BSD-3-Clause & MIT
+  elfutils                         0.191                    GPL-2.0-or-later | LGPL-3.0-or-later
+  ethtool                          6.7                      GPL-2.0-or-later
+  event-gtk-player                 5.0+git-da2899a2         GPL-2.0-or-later
+  evtest                           1.35                     GPL-2.0-only
+  expat                            2.6.4                    MIT
+  faac                             1.29.9.2                 LGPL-2.0-or-later
+  fb-test                          1.1.0                    GPL-2.0-only
+  fdk-aac                          2.0.2                    Fraunhofer_FDK_AAC_Codec_Library_for_Android
+  ffmpeg                           6.1.1                    LGPL-2.1-or-later
+  fftw                             3.3.10                   GPL-2.0-only
+  file                             5.45                     BSD-2-Clause
+  flac                             1.4.3                    GFDL-1.2 & GPL-2.0-or-later & LGPL-2.1-or-later & BSD-3-Clause
+  fontconfig                       2.15.0                   MIT & MIT & PD
+  freetype                         2.13.2                   (FTL | GPL-2.0-or-later) & MIT
+  fribidi                          1.0.14                   LGPL-2.1-or-later
+  gcc-runtime                      13.3.0                   GPL-3.0-with-GCC-exception
+  gdb                              14.2                     GPL-2.0-only & GPL-3.0-only & LGPL-2.0-only & LGPL-3.0-only
+  gdk-pixbuf                       2.42.12                  LGPL-2.1-or-later
+  glib-2.0                         2.78.6                   LGPL-2.1-or-later & BSD-3-Clause & PD
+  glibc                            2.39+git                 GPL-2.0-only & LGPL-2.1-or-later
+  glibc-locale                     2.39+git                 GPL-2.0-only & LGPL-2.1-or-later
+  glib-networking                  2.78.1                   LGPL-2.1-or-later
+  glmark2                          2023.01                  GPL-3.0-or-later & SGI-1
+  gmp                              6.3.0                    GPL-2.0-or-later | LGPL-3.0-or-later
+  gnupg                            2.4.5                    GPL-3.0-only & LGPL-3.0-only
+  gnutls                           3.8.4                    LGPL-2.1-or-later
+  gobject-introspection            1.78.1                   LGPL-2.0-or-later & GPL-2.0-or-later & MIT
+  gpio-udev                        1.0                      GPL-2.0-only
+  gptfdisk                         1.0.9                    GPL-2.0-only
+  grep                             3.11                     GPL-3.0-only
+  gstreamer1.0                     1.22.12                  LGPL-2.1-or-later
+  gstreamer1.0-libav               1.22.12                  LGPL-2.1-or-later
+  gstreamer1.0-plugins-bad         1.22.12                  LGPL-2.1-or-later
+  gstreamer1.0-plugins-base        1.22.12                  LGPL-2.1-or-later
+  gstreamer1.0-plugins-good        1.22.12                  LGPL-2.1-or-later
+  gstreamer1.0-plugins-ugly        1.22.12                  LGPL-2.1-or-later & GPL-2.0-or-later
+  gstreamer1.0-rtsp-server         1.22.12                  LGPL-2.1-or-later
+  gtk+3                            3.24.41                  LGPL-2.0-only & LGPL-2.0-or-later & LGPL-2.1-or-later
+  harfbuzz                         8.3.0                    MIT
+  hdparm                           9.65                     BSD-2-Clause & hdparm
+  hicolor-icon-theme               0.17                     GPL-2.0-only
+  hostapd                          2.10                     BSD-3-Clause
+  i2c-tools                        4.3                      GPL-2.0-or-later
+  icu                              74-2                     ICU
+  infos-openstlinux                1.1                      GPL-2.0-or-later
+  initramfs-framework              1.0                      MIT
+  initrd-boot                      1.0                      MIT
+  installer-apps                   1.0                      BSD-3-Clause
+  installer-gtk                    1.0                      BSD-3-Clause
+  iproute2                         6.7.0                    GPL-2.0-or-later
+  iptables                         1.8.10                   GPL-2.0-or-later
+  iputils                          20240117                 BSD-3-Clause & GPL-2.0-or-later
+  iw                               6.7                      BSD-2-Clause
+  jack                             1.9.22                   GPL-2.0-only & GPL-2.0-or-later & LGPL-2.1-or-later
+  json-c                           0.17                     MIT
+  json-glib                        1.8.0                    LGPL-2.1-only
+  kbd                              2.6.4                    GPL-2.0-or-later & LGPL-2.0-or-later
+  kmod                             31                       GPL-2.0-or-later & LGPL-2.1-or-later
+  kmscube                          0.0.1+git                MIT
+  lame                             3.100                    LGPL-2.0-or-later
+  liba52                           0.7.4                    GPL-2.0-or-later
+  libaio                           0.3.113                  LGPL-2.1-or-later
+  libassuan                        2.5.6                    LGPL-2.1-or-later
+  libcamera-stm32mp                v0.3.0-stm32mp           GPL-2.0-or-later & LGPL-2.1-or-later
+  libcap                           2.69                     BSD-3-Clause | GPL-2.0-only
+  libcap-ng                        0.8.5                    GPL-2.0-or-later & LGPL-2.1-or-later
+  libdaemon                        0.14                     LGPL-2.1-or-later
+  libdazzle                        3.44.0                   GPL-3.0-or-later
+  libdrm                           2.4.120                  MIT
+  libedit                          20230828-3.1             BSD-3-Clause
+  libepoxy                         1.5.10                   MIT
+  liberation-fonts                 2.1.5                    OFL-1.1
+  libevdev                         1.13.1                   MIT
+  libevent                         2.1.12                   BSD-3-Clause & MIT
+  libffi                           3.4.6                    MIT
+  libgcc                           13.3.0                   GPL-3.0-with-GCC-exception
+  libgcrypt                        1.10.3                   LGPL-2.1-or-later
+  libgpg-error                     1.48                     GPL-2.0-or-later & LGPL-2.1-or-later
+  libgpiod                         2.1.2                    GPL-2.0-or-later & LGPL-2.1-or-later & CC-BY-SA-4.0
+  libgudev                         238                      LGPL-2.1-only
+  libidn2                          2.3.7                    (GPL-2.0-or-later | LGPL-3.0-only) & Unicode-DFS-2016
+  libiio                           0.25                     LGPL-2.1-or-later
+  libinput                         1.25.0                   MIT
+  libjpeg-turbo                    3.0.1                    IJG & BSD-3-Clause & Zlib
+  libksba                          1.6.6                    GPL-2.0-or-later | LGPL-3.0-or-later
+  libmd                            1.1.0                    BSD-3-Clause & BSD-2-Clause
+  libmnl                           1.0.5                    LGPL-2.1-or-later
+  libnl                            3.9.0                    LGPL-2.1-only
+  libnss-mdns                      0.15.1                   LGPL-2.1-or-later
+  libogg                           1.3.5                    BSD-3-Clause
+  libopencsd                       1.4.0                    BSD-3-Clause
+  libopus                          1.5.2                    BSD-3-Clause
+  libpam                           1.5.3                    GPL-2.0-or-later | BSD-3-Clause
+  libpcap                          1.10.4                   BSD-3-Clause
+  libpcre2                         10.43                    BSD-3-Clause
+  libpcre                          8.45                     BSD-3-Clause
+  libpng                           1.6.42                   Libpng
+  libpsl                           0.21.5                   MIT
+  librsvg                          2.57.1                   LGPL-2.1-or-later
+  libsamplerate0                   0.2.2                    BSD-2-Clause
+  libsdl2                          2.30.1                   Zlib & BSD-2-Clause
+  libsdl2-image                    2.0.5                    Zlib
+  libserialport                    0.1.1                    LGPL-3.0-or-later
+  libsndfile1                      1.2.2                    LGPL-2.1-only
+  libsoup                          3.4.4                    LGPL-2.0-only
+  libtasn1                         4.20.0                   LGPL-2.1-or-later
+  libtheora                        1.1.1                    BSD-3-Clause
+  libtirpc                         1.3.4                    BSD-3-Clause
+  libunistring                     1.2                      LGPL-3.0-or-later | GPL-2.0-or-later
+  libunwind                        1.6.2                    MIT
+  libusb1                          1.0.27                   LGPL-2.1-or-later
+  libuv                            1.48.0                   MIT
+  libvorbis                        1.3.7                    BSD-3-Clause
+  libwebp                          1.3.2                    BSD-3-Clause
+  libx11-compose-data              1.8.4                    MIT & BSD-1-Clause & HPND & HPND-sell-variant & ISC
+  libxcrypt                        4.4.36                   LGPL-2.1-only
+  libxkbcommon                     1.6.0                    MIT & MIT
+  libxml2                          2.12.10                  MIT
+  libyaml                          0.2.5                    MIT
+  linux-examples-stm32mp1          5.4+                     MIT
+  lmsensors                        3.6.0                    GPL-2.0-or-later & LGPL-2.1-or-later
+  lmsensors-config                 1.0                      MIT
+  lrzsz                            0.12.20                  GPL-2.0-or-later
+  lz4                              1.9.4                    BSD-2-Clause | GPL-2.0-only
+  lzlib                            1.14                     BSD-2-Clause
+  lzo                              2.10                     GPL-2.0-or-later
+  memtester                        4.6.0                    GPL-2.0-only
+  minicom                          2.9                      GPL-2.0-or-later
+  mmc-utils                        0.1+git                  GPL-2.0-only
+  mpeg2dec                         0.5.1                    GPL-2.0-or-later
+  mpg123                           1.32.6                   LGPL-2.1-only
+  mtdev                            1.1.6                    MIT
+  mtd-utils                        2.1.6                    GPL-2.0-or-later
+  ncurses                          6.4                      MIT
+  ne10                             1.2.1+git                BSD-3-Clause
+  netbase                          6.4                      GPL-2.0-only
+  netdata                          1.44.3                   GPL-3.0-only
+  nettle                           3.9.1                    LGPL-3.0-or-later | GPL-2.0-or-later
+  nghttp2                          1.61.0                   MIT
+  npth                             1.6                      LGPL-2.0-or-later
+  ntp                              4.2.8p17                 NTP
+  numactl                          2.0.18                   GPL-2.0-only & LGPL-2.1-only
+  openssh                          9.6p1                    BSD-2-Clause & BSD-3-Clause & ISC & MIT
+  openssl                          3.2.4                    Apache-2.0
+  opkg-utils                       0.6.3                    GPL-2.0-or-later
+  optee-client                     4.0.0+git                BSD-2-Clause
+  optee-stm32mp-addons             4.0.0.                   BSD-3-Clause
+  optee-test                       4.0.0+git                BSD-2-Clause & GPL-2.0-only
+  orc                              0.4.40                   BSD-2-Clause & BSD-3-Clause
+  os-release                       1.0                      MIT
+  packagegroup-base                1.0                      MIT
+  packagegroup-core-boot           1.0                      MIT
+  packagegroup-core-eclipse-debug  1.0                      MIT
+  packagegroup-core-full-cmdline   1.0                      MIT
+  packagegroup-core-ssh-dropbear   1.0                      MIT
+  packagegroup-core-tools-profile  1.0                      MIT
+  packagegroup-framework-core      1.0                      MIT
+  packagegroup-framework-core-base 1.0                      MIT
+  packagegroup-framework-core-extra 1.0                      MIT
+  packagegroup-framework-tools     1.0                      MIT
+  packagegroup-framework-tools-base 1.0                      MIT
+  packagegroup-gstreamer1-0        1.0                      LGPL-2.0-or-later
+  packagegroup-optee-core          1.0                      LGPL-2.0-or-later
+  packagegroup-optee-test          1.0                      LGPL-2.0-or-later
+  packagegroup-st-demo             1.0                      MIT
+  pango                            1.52.1                   LGPL-2.0-or-later
+  pciutils                         3.11.1                   GPL-2.0-or-later
+  perf                             1.0                      GPL-2.0-only
+  perl                             5.38.2                   Artistic-1.0 | GPL-1.0-or-later
+  pinentry                         1.2.1                    GPL-2.0-only
+  pipewire                         1.2.3                    MIT & LGPL-2.1-or-later & GPL-2.0-only
+  pixman                           0.42.2                   MIT & PD
+  polkit                           124                      LGPL-2.0-or-later
+  popt                             1.19                     MIT
+  powertop                         2.15                     GPL-2.0-only
+  procps                           4.0.4                    GPL-2.0-or-later & LGPL-2.0-or-later
+  psplash-drm                      1.0                      MIT
+  pulseaudio                       17.0                     LGPL-2.1-or-later & MIT & BSD-3-Clause
+  python3                          3.12.9                   PSF-2.0
+  python3-dateutil                 2.9.0                    BSD-3-Clause & Apache-2.0
+  python3-distutils-extra          2.39                     GPL-2.0-only
+  python3-evdev                    1.6.1                    BSD-3-Clause
+  python3-pexpect                  4.9.0                    ISC
+  python3-ptyprocess               0.7.0                    ISC
+  python3-pycairo                  1.26.0                   LGPL-2.1-only & MPL-1.1
+  python3-pygobject                3.46.0                   LGPL-2.1-only
+  python3-pyparsing                3.1.1                    MIT
+  python3-pyyaml                   6.0.1                    MIT
+  python3-setuptools               69.1.1                   MIT
+  python3-six                      1.16.0                   MIT
+  qrenc                            1.0                      LGPL-2.1-only
+  qrencode                         4.1.1                    LGPL-2.1-only
+  readline                         8.2                      GPL-3.0-or-later
+  resize-helper                    1.0                      GPL-2.0-or-later
+  rng-tools                        6.16                     GPL-2.0-only
+  rpcbind                          1.2.6                    BSD-3-Clause
+  rt-tests                         2.6                      GPL-2.0-only & GPL-2.0-or-later
+  run-postinsts                    1.0                      MIT
+  sbc                              2.0                      LGPL-2.1-or-later
+  seatd                            0.8.0                    MIT
+  shadow                           4.14.2                   BSD-3-Clause
+  shadow-securetty                 4.6                      MIT
+  shared-mime-info                 2.4                      GPL-2.0-only
+  slang                            2.3.3                    GPL-2.0-only
+  speex                            1.2.1                    BSD-3-Clause
+  speexdsp                         1.2.1                    BSD-3-Clause
+  sqlite3                          3.45.3                   PD
+  st-hostname                      1.0                      BSD-3-Clause
+  st-initrd                        1.0                      MIT
+  stm32-ddr-tools                  1.0                      MIT
+  strace                           6.7                      LGPL-2.1-or-later & GPL-2.0-or-later
+  sudo                             1.9.15p5                 ISC & BSD-3-Clause & BSD-2-Clause & Zlib
+  sysfsutils                       2.1.1                    GPL-2.0-only
+  sysfsutils                       2.1.1                    LGPL-2.1-only
+  sysprof                          3.44.0                   GPL-3.0-or-later
+  sysstat                          12.7.5                   GPL-2.0-or-later
+  systemd                          255.17                   GPL-2.0-only & LGPL-2.1-or-later
+  systemd-compat-units             1.0                      MIT
+  systemd-conf                     1.0                      MIT
+  systemd-mount-partitions         1.0                      MIT
+  systemd-networkd-configuration   1.0                      MIT
+  systemd-serialgetty              1.0                      GPL-2.0-or-later
+  systemtap                        5.0                      GPL-2.0-only
+  taglib                           2.0.1                    LGPL-2.1-only | MPL-1.1
+  tar                              1.35                     GPL-3.0-only
+  tcf-agent                        1.8.0+git                EPL-1.0 | EDL-1.0
+  tcpdump                          4.99.4                   BSD-3-Clause
+  tcp-wrappers                     7.6                      BSD-1-Clause
+  tiff                             4.6.0                    libtiff
+  tzdata                           2025a                    PD & BSD-3-Clause
+  uhubctl                          2.5.0                    GPL-2.0-only
+  update-rc.d                      0.8+git                  GPL-2.0-or-later
+  usbip                            1.0                      GPL-2.0-only
+  usbotg-gadget-config             1.0                      MIT
+  usbutils                         017                      GPL-2.0-or-later
+  userfs-cleanup-package           1.0                      BSD-3-Clause
+  util-linux                       2.39.3                   GPL-1.0-or-later & GPL-2.0-or-later & LGPL-2.1-or-later & BSD-2-Clause & BSD-3-Clause & BSD-4-Clause & MIT
+  util-linux-libuuid               2.39.3                   BSD-3-Clause
+  v4l-utils                        1.26.1+git               GPL-2.0-only & LGPL-2.1-only
+  volatile-binds                   1.0                      MIT
+  vulkan-loader                    1.3.275.0                Apache-2.0
+  wayland                          1.22.0                   MIT
+  wayland-utils                    1.2.0                    MIT
+  webrtc-audio-processing-1        1.3                      BSD-3-Clause
+  weston                           13.0.1                   MIT
+  weston-cube                      5.0+git-da2899a2         MIT
+  weston-init                      1.0                      MIT
+  wget                             1.21.4                   GPL-3.0-only
+  wireless-regdb                   2024.10.07               ISC
+  wireplumber                      0.5.6                    MIT
+  wpa-supplicant                   2.10                     BSD-3-Clause
+  xkeyboard-config                 2.41                     MIT & MIT
+  xxhash                           0.8.2                    BSD-2-Clause & GPL-2.0-only
+  xz                               5.4.6                    PD & GPL-2.0-or-later
+  zlib                             1.3.1                    Zlib
+  zstd                             1.5.5                    BSD-3-Clause | GPL-2.0-only
diff --git a/meta-st-stm32mp/conf/machine/stm32mp1-ies.conf b/meta-st-stm32mp/conf/machine/stm32mp1-ies.conf
new file mode 100644
index 00000000..4417bbba
--- /dev/null
+++ b/meta-st-stm32mp/conf/machine/stm32mp1-ies.conf
@@ -0,0 +1,90 @@
+#@TYPE: Machine
+#@NAME: stm32mp1
+#@DESCRIPTION: Configuration for all STM32MP1 boards (EV, DK, ...)
+#@NEEDED_BSPLAYERS: layers/meta-openembedded/meta-oe layers/meta-openembedded/meta-python
+
+# Define specific familly common machine name
+MACHINEOVERRIDES =. "stm32mp1common:stm32mp15common:stm32mp13common:"
+
+include conf/machine/include/st-machine-common-stm32mp.inc
+include conf/machine/include/st-machine-providers-stm32mp.inc
+
+# =========================================================================
+# Chip architecture
+# =========================================================================
+DEFAULTTUNE = "cortexa7thf-neon-vfpv4"
+include conf/machine/include/arm/armv7a/tune-cortexa7.inc
+
+# =========================================================================
+# boot scheme
+# =========================================================================
+BOOTSCHEME_LABELS += "optee"
+BOOTSCHEME_LABELS += "fastboot"
+
+# =========================================================================
+# boot device
+# =========================================================================
+# Define the boot device supported
+BOOTDEVICE_LABELS += "emmc"
+#BOOTDEVICE_LABELS += "nand-4-256"
+#BOOTDEVICE_LABELS += "nor-sdcard"
+BOOTDEVICE_LABELS += "sdcard"
+
+# =========================================================================
+# Machine settings
+# =========================================================================
+# Define list of devicetree per supported storage
+# STM32MP_DT_FILES_EMMC += "stm32mp157c-ed1 stm32mp157f-ed1"
+# STM32MP_DT_FILES_EMMC += "stm32mp157a-ev1 stm32mp157c-ev1 stm32mp157d-ev1 stm32mp157f-ev1"
+# STM32MP_DT_FILES_NAND += "stm32mp157a-ev1 stm32mp157c-ev1 stm32mp157d-ev1 stm32mp157f-ev1"
+# STM32MP_DT_FILES_NOR += "stm32mp157a-ev1 stm32mp157c-ev1 stm32mp157d-ev1 stm32mp157f-ev1"
+STM32MP_DT_FILES_SDCARD += "stm32mp135f-dk"
+# STM32MP_DT_FILES_SDCARD += "stm32mp157a-dk1 stm32mp157d-dk1"
+# STM32MP_DT_FILES_SDCARD += "stm32mp157c-dk2 stm32mp157f-dk2"
+# STM32MP_DT_FILES_SDCARD += "stm32mp157c-ed1 stm32mp157f-ed1"
+# STM32MP_DT_FILES_SDCARD += "stm32mp157a-ev1 stm32mp157c-ev1 stm32mp157d-ev1 stm32mp157f-ev1"
+
+STM32MP_DT_FILES_EMMC += "stm32mp13xxae-tcu"
+STM32MP_DT_FILES_SDCARD += "stm32mp13xxae-tcu"
+
+# =========================================================================
+# Machine features
+# =========================================================================
+MACHINE_FEATURES += "splashscreen"
+MACHINE_FEATURES += "watchdog"
+MACHINE_FEATURES += "bluetooth"
+MACHINE_FEATURES += "wifi"
+MACHINE_FEATURES += "${@'gpu' if d.getVar('ACCEPT_EULA_'+d.getVar('MACHINE')) == '1' else ''}"
+MACHINE_FEATURES += "m4copro"
+MACHINE_FEATURES += "usbg0"
+
+# Bluetooth
+BLUETOOTH_LIST += "linux-firmware-addons-bcm43xx"
+# Wifi
+WIFI_LIST += "linux-firmware-addons-bcm43xx"
+
+# =========================================================================
+# Kernel
+# =========================================================================
+# For eval board: auto-load goodix module (touchscreen module)
+KERNEL_MODULE_AUTOLOAD = "goodix"
+
+# Define the devicetree for Linux A7 examples
+LINUX_A7_EXAMPLES_DT += "stm32mp157d-dk1-a7-examples"
+LINUX_A7_EXAMPLES_DT += "stm32mp157c-dk2-a7-examples"
+LINUX_A7_EXAMPLES_DT += "stm32mp157c-ev1-a7-examples"
+LINUX_A7_EXAMPLES_DT += "stm32mp157f-dk2-a7-examples"
+LINUX_A7_EXAMPLES_DT += "stm32mp157f-ev1-a7-examples"
+
+LINUX_A7_EXAMPLES_DT += "stm32mp135f-dk-a7-examples"
+LINUX_A7_EXAMPLES_DT += "stm32mp13xxae-tcu-a7-examples"
+
+# =========================================================================
+# M4 copro
+# =========================================================================
+# Define the devicetree for M4 example
+CUBE_M4_EXAMPLES_DT += "stm32mp157d-dk1-m4-examples"
+CUBE_M4_EXAMPLES_DT += "stm32mp157c-dk2-m4-examples"
+CUBE_M4_EXAMPLES_DT += "stm32mp157c-ev1-m4-examples"
+CUBE_M4_EXAMPLES_DT += "stm32mp157f-dk2-m4-examples"
+CUBE_M4_EXAMPLES_DT += "stm32mp157f-ev1-m4-examples"
\ No newline at end of file
diff --git a/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/add-stm32mp13xxae-tcu-tfa.patch b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/add-stm32mp13xxae-tcu-tfa.patch
new file mode 100644
index 00000000..da984ace
--- /dev/null
+++ b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/add-stm32mp13xxae-tcu-tfa.patch
@@ -0,0 +1,289 @@
+diff --git a/fdts/stm32mp131dae-onekiwi-fw-config.dts b/fdts/stm32mp131dae-onekiwi-fw-config.dts
+new file mode 100644
+index 000000000..41ebf73c2
+--- /dev/null
++++ b/fdts/stm32mp131dae-onekiwi-fw-config.dts
+@@ -0,0 +1,8 @@
++// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
++/*
++ * Copyright (c) 2022, STMicroelectronics - All Rights Reserved
++ */
++
++#define DDR_SIZE	0x20000000 /* 512MB */
++#include "stm32mp13-fw-config.dtsi"
++#include "stm32mp13-fw-config-mem-encrypt.dtsi"
+diff --git a/fdts/stm32mp131dae-onekiwi.dts b/fdts/stm32mp131dae-onekiwi.dts
+new file mode 100644
+index 000000000..5546fa25b
+--- /dev/null
++++ b/fdts/stm32mp131dae-onekiwi.dts
+@@ -0,0 +1,255 @@
++// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
++/*
++ * Copyright (C) STMicroelectronics 2022 - All Rights Reserved
++ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
++ */
++
++/dts-v1/;
++
++#include <dt-bindings/clock/stm32mp13-clksrc.h>
++#include "stm32mp131.dtsi"
++#include "stm32mp13xd.dtsi"
++#include "stm32mp13-ddr3-1x4Gb-1066-binF.dtsi"
++#include "stm32mp13-pinctrl.dtsi"
++
++&pinctrl {
++	i2c4_pins_b: i2c4-1 {
++		pins {
++			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
++				 <STM32_PINMUX('B', 7, AF6)>; /* I2C4_SDA */
++			bias-disable;
++			drive-open-drain;
++			slew-rate = <0>;
++		};
++	};
++
++	/omit-if-no-ref/
++	sdmmc2_d47_pins_a: sdmmc2-d47-0 {
++		pins {
++			pinmux = <STM32_PINMUX('F', 0, AF10)>, /* SDMMC2_D4 */
++				 <STM32_PINMUX('B', 9, AF10)>, /* SDMMC2_D5 */
++				 <STM32_PINMUX('C', 6, AF10)>, /* SDMMC2_D6 */
++				 <STM32_PINMUX('C', 7, AF10)>; /* SDMMC2_D7 */
++			slew-rate = <1>;
++			drive-push-pull;
++			bias-pull-up;
++		};
++	};
++};
++
++/ {
++	model = "OneKiwi STM32MP131DAE SOM v1.1";
++	compatible = "st,stm32mp131dae-onekiwi", "st,stm32mp131";
++
++	aliases {
++		serial0 = &uart4;
++	};
++
++	chosen {
++		stdout-path = "serial0:115200n8";
++	};
++
++	memory@c0000000 {
++		device_type = "memory";
++		reg = <0xc0000000 0x20000000>;
++	};
++
++	vdd: vdd {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++
++	vdd_usb: vdd_usb {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd_usb";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++
++	vddcpu: vddcpu {
++		compatible = "regulator-fixed";
++		regulator-name = "vddcpu";
++		regulator-min-microvolt = <1250000>;
++		regulator-max-microvolt = <1250000>;
++		regulator-always-on;
++	};
++
++	vdd_ddr: vddddr {
++		regulator-name = "vdd_ddr";
++		regulator-min-microvolt = <1350000>;
++		regulator-max-microvolt = <1350000>;
++		regulator-always-on;
++	};
++
++	vref_ddr: vrefddr {
++		regulator-name = "vref_ddr";
++		regulator-min-microvolt = <675000>;
++		regulator-max-microvolt = <675000>;
++		regulator-always-on;
++	};
++};
++
++&bsec {
++	board_id: board_id@f0 {
++		reg = <0xf0 0x4>;
++		st,non-secure-otp;
++	};
++};
++
++&cpu0 {
++	cpu-supply = <&vddcpu>;
++};
++
++&ddr {
++	vdd-supply = <&vdd_ddr>;
++	vref-supply = <&vref_ddr>;
++};
++
++&hash {
++	status = "okay";
++};
++
++&i2c4 {
++	pinctrl-names = "default";
++	pinctrl-0 = <&i2c4_pins_b>;
++	i2c-scl-rising-time-ns = <185>;
++	i2c-scl-falling-time-ns = <20>;
++	clock-frequency = <400000>;
++	status = "okay";
++};
++
++&iwdg1 {
++	timeout-sec = <32>;
++	status = "okay";
++};
++
++&pwr_regulators {
++	vdd-supply = <&vdd>;
++	vdd_3v3_usbfs-supply = <&vdd_usb>;
++};
++
++&rcc {
++	st,clksrc = <
++		CLK_MPU_PLL1P
++		CLK_AXI_PLL2P
++		CLK_MLAHBS_PLL3
++		CLK_CKPER_HSE
++		CLK_SDMMC1_PLL4P
++		CLK_SDMMC2_PLL4P
++		CLK_STGEN_HSE
++		CLK_USBPHY_HSE
++		CLK_I2C4_HSI
++		CLK_USBO_USBPHY
++		CLK_I2C12_HSI
++		CLK_UART2_HSI
++		CLK_UART4_HSI
++		CLK_SAES_AXI
++	>;
++
++	st,clkdiv = <
++		DIV(DIV_AXI, 0)
++		DIV(DIV_MLAHB, 0)
++		DIV(DIV_APB1, 1)
++		DIV(DIV_APB2, 1)
++		DIV(DIV_APB3, 1)
++		DIV(DIV_APB4, 1)
++		DIV(DIV_APB5, 2)
++		DIV(DIV_APB6, 1)
++	>;
++
++	st,pll_vco {
++		pll2_vco_1066Mhz: pll2-vco-1066Mhz {
++			src = <CLK_PLL12_HSE>;
++			divmn = <2 65>;
++			frac = <0x1400>;
++		};
++
++		pll3_vco_417Mhz: pll3-vco-417Mhz {
++			src = <CLK_PLL3_HSE>;
++			divmn = <1 33>;
++			frac = <0x1a04>;
++		};
++
++		pll4_vco_600Mhz: pll4-vco-600Mhz {
++			src = <CLK_PLL4_HSE>;
++			divmn = <1 49>;
++		};
++	};
++
++	/* VCO = 1066.0 MHz => P = 266 (AXI), Q = 266, R = 533 (DDR) */
++	pll2:st,pll@1 {
++		compatible = "st,stm32mp1-pll";
++		reg = <1>;
++
++		st,pll = <&pll2_cfg1>;
++
++		pll2_cfg1: pll2_cfg1 {
++			st,pll_vco = <&pll2_vco_1066Mhz>;
++			st,pll_div_pqr = <1 1 0>;
++		};
++	};
++
++	/* VCO = 417.8 MHz => P = 209, Q = 24, R = 209 */
++	pll3:st,pll@2 {
++		compatible = "st,stm32mp1-pll";
++		reg = <2>;
++
++		st,pll = <&pll3_cfg1>;
++
++		pll3_cfg1: pll3_cfg1 {
++			st,pll_vco = <&pll3_vco_417Mhz>;
++			st,pll_div_pqr = <1 16 1>;
++		};
++	};
++
++	/* VCO = 600.0 MHz => P = 50, Q = 10, R = 100 */
++	pll4:st,pll@3 {
++		compatible = "st,stm32mp1-pll";
++		reg = <3>;
++
++		st,pll = <&pll4_cfg1>;
++
++		pll4_cfg1: pll4_cfg1 {
++			st,pll_vco = <&pll4_vco_600Mhz>;
++			st,pll_div_pqr = <11 59 5>;
++		};
++	};
++};
++
++&rng {
++	status = "okay";
++};
++
++&sdmmc1 {
++	pinctrl-names = "default";
++	pinctrl-0 = <&sdmmc1_b4_pins_a &sdmmc1_clk_pins_a>;
++	disable-wp;
++	st,neg-edge;
++	bus-width = <4>;
++	vmmc-supply = <&vdd>;
++	status = "okay";
++};
++
++&sdmmc2 {
++	pinctrl-names = "default";
++	pinctrl-0 = <&sdmmc2_b4_pins_a &sdmmc2_d47_pins_a &sdmmc2_clk_pins_a>;
++	non-removable;
++	no-sd;
++	no-sdio;
++	st,neg-edge;
++	bus-width = <8>;
++	vmmc-supply = <&vdd>;
++	vqmmc-supply = <&vdd>;
++	mmc-ddr-3_3v;
++	status = "okay";
++};
++
++&uart4 {
++	pinctrl-names = "default";
++	pinctrl-0 = <&uart4_pins_a>;
++	status = "okay";
++};
+\ No newline at end of file
+diff --git a/plat/st/stm32mp1/stm32mp1_def.h b/plat/st/stm32mp1/stm32mp1_def.h
+index 45fc77e45..b35130edb 100644
+--- a/plat/st/stm32mp1/stm32mp1_def.h
++++ b/plat/st/stm32mp1/stm32mp1_def.h
+@@ -689,7 +689,7 @@ enum ddr_type {
+ /* 3 PWR + 1 VREFBUF + 14 PMIC regulators + 1 FIXED */
+ #define PLAT_NB_RDEVS			U(19)
+ /* 2 FIXED */
+-#define PLAT_NB_FIXED_REGUS		U(2)
++#define PLAT_NB_FIXED_REGUS		U(5)
+ /* No GPIO regu */
+ #define PLAT_NB_GPIO_REGUS		U(0)
+ /* TAMP BACKUP REGISTER */
diff --git a/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/stm32mp13xxae-tcu-fw-config.dts b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/stm32mp13xxae-tcu-fw-config.dts
new file mode 100644
index 00000000..41ebf73c
--- /dev/null
+++ b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/stm32mp13xxae-tcu-fw-config.dts
@@ -0,0 +1,8 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (c) 2022, STMicroelectronics - All Rights Reserved
+ */
+
+#define DDR_SIZE	0x20000000 /* 512MB */
+#include "stm32mp13-fw-config.dtsi"
+#include "stm32mp13-fw-config-mem-encrypt.dtsi"
diff --git a/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/stm32mp13xxae-tcu.dts b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/stm32mp13xxae-tcu.dts
new file mode 100644
index 00000000..c1e74288
--- /dev/null
+++ b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/files/stm32mp13xxae-tcu.dts
@@ -0,0 +1,297 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) STMicroelectronics 2022 - All Rights Reserved
+ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
+ */
+
+/dts-v1/;
+
+#include <dt-bindings/clock/stm32mp13-clksrc.h>
+#include <dt-bindings/pinctrl/stm32-pinfunc.h>
+#include "stm32mp135.dtsi"
+#include "stm32mp13xd.dtsi"
+#include "stm32mp13-ddr3-1x4Gb-1066-binF.dtsi"
+#include "stm32mp13-pinctrl.dtsi"
+
+&pinctrl {
+	i2c4_pins_b: i2c4-1 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
+				 <STM32_PINMUX('B', 7, AF6)>; /* I2C4_SDA */
+			bias-disable;
+			drive-open-drain;
+			slew-rate = <0>;
+		};
+	};
+
+	sdmmc2_d47_pins_a: sdmmc2-d47-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 0, AF10)>, /* SDMMC2_D4 */
+				 <STM32_PINMUX('B', 9, AF10)>, /* SDMMC2_D5 */
+				 <STM32_PINMUX('C', 6, AF10)>, /* SDMMC2_D6 */
+				 <STM32_PINMUX('C', 7, AF10)>; /* SDMMC2_D7 */
+			slew-rate = <1>;
+			drive-push-pull;
+			bias-pull-up;
+		};
+	};
+	
+	sdmmc2_d47_sleep_pins_a: sdmmc2-d47-sleep-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 0, ANALOG)>, /* SDMMC2_D4 */
+				 <STM32_PINMUX('B', 9, ANALOG)>, /* SDMMC2_D5 */
+				 <STM32_PINMUX('C', 6, ANALOG)>, /* SDMMC2_D6 */
+				 <STM32_PINMUX('C', 7, ANALOG)>; /* SDMMC2_D7 */
+		};
+	};
+};
+
+/ {
+	model = "STM32MP13xxAE TCU v1.0";
+	compatible = "st,stm32mp13xxae-tcu", "st,stm32mp135";
+
+	aliases {
+		serial0 = &uart4;
+	};
+
+	chosen {
+		stdout-path = "serial0:115200n8";
+	};
+
+	memory@c0000000 {
+		device_type = "memory";
+		reg = <0xc0000000 0x20000000>;
+	};
+
+	v3v3: v3v3 {
+		compatible = "regulator-fixed";
+		regulator-name = "v3v3";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	vdd: vdd {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	vdd_usb: vdd_usb {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd_usb";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	vddcpu: vddcpu {
+		compatible = "regulator-fixed";
+		regulator-name = "vddcpu";
+		regulator-min-microvolt = <1250000>;
+		regulator-max-microvolt = <1250000>;
+		regulator-always-on;
+	};
+};
+
+&bsec {
+	board_id: board_id@f0 {
+		reg = <0xf0 0x4>;
+		st,non-secure-otp;
+	};
+};
+
+&cpu0 {
+	cpu-supply = <&vddcpu>;
+};
+
+&hash {
+	status = "okay";
+};
+
+&i2c4 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2c4_pins_b>;
+	i2c-scl-rising-time-ns = <185>;
+	i2c-scl-falling-time-ns = <20>;
+	clock-frequency = <400000>;
+	status = "disabled";
+};
+
+&iwdg1 {
+	timeout-sec = <32>;
+	status = "okay";
+};
+
+/*
+&pka {
+	status = "okay";
+};*/
+
+&pwr_regulators {
+	vdd-supply = <&vdd>;
+	vdd_3v3_usbfs-supply = <&vdd_usb>;
+};
+
+&rcc {
+	st,clksrc = <
+		CLK_MPU_PLL1P
+		CLK_AXI_PLL2P
+		CLK_MLAHBS_PLL3
+		CLK_CKPER_HSE
+		CLK_RTC_LSE
+		CLK_SDMMC1_PLL4P
+		CLK_SDMMC2_PLL4P
+		CLK_STGEN_HSE
+		CLK_USBPHY_HSE
+		CLK_I2C4_HSI
+		CLK_USBO_USBPHY
+		CLK_I2C12_HSI
+		CLK_UART2_HSI
+		CLK_UART4_HSI
+		CLK_SAES_AXI
+	>;
+
+	st,clkdiv = <
+		DIV(DIV_AXI, 0)
+		DIV(DIV_MLAHB, 0)
+		DIV(DIV_APB1, 1)
+		DIV(DIV_APB2, 1)
+		DIV(DIV_APB3, 1)
+		DIV(DIV_APB4, 1)
+		DIV(DIV_APB5, 2)
+		DIV(DIV_APB6, 1)
+		DIV(DIV_RTC, 0)
+	>;
+
+	st,pll_vco {
+		pll1_vco_1300Mhz: pll1-vco-1300Mhz {
+			src = < CLK_PLL12_HSE >;
+			divmn = < 2 80 >;
+			frac = < 0x800 >;
+		};
+
+		pll2_vco_1066Mhz: pll2-vco-1066Mhz {
+			src = < CLK_PLL12_HSE >;
+			divmn = < 2 65 >;
+			frac = < 0x1400 >;
+		};
+
+		pll3_vco_417_8Mhz: pll3-vco-417_8Mhz {
+			src = < CLK_PLL3_HSE >;
+			divmn = < 1 33 >;
+			frac = < 0x1a04 >;
+		};
+
+		pll4_vco_600Mhz: pll4-vco-600Mhz {
+			src = < CLK_PLL4_HSE >;
+			divmn = < 1 49 >;
+		};
+	};
+
+	/* VCO = 1300.0 MHz => P = 650 (CPU) */
+	pll1:st,pll@0 {
+		compatible = "st,stm32mp1-pll";
+		reg = <0>;
+
+		st,pll = < &pll1_cfg1 >;
+
+		pll1_cfg1: pll1_cfg1 {
+			st,pll_vco = < &pll1_vco_1300Mhz >;
+			st,pll_div_pqr = < 0 1 1 >;
+		};
+	};
+
+	/* VCO = 1066.0 MHz => P = 266 (AXI), Q = 266, R = 533 (DDR) */
+	pll2:st,pll@1 {
+		compatible = "st,stm32mp1-pll";
+		reg = <1>;
+
+		st,pll = < &pll2_cfg1 >;
+
+		pll2_cfg1: pll2_cfg1 {
+			st,pll_vco = < &pll2_vco_1066Mhz >;
+			st,pll_div_pqr = < 1 1 0 >;
+		};
+	};
+
+	/* VCO = 417.8 MHz => P = 209, Q = 24, R = 209 */
+	pll3:st,pll@2 {
+		compatible = "st,stm32mp1-pll";
+		reg = <2>;
+
+		st,pll = < &pll3_cfg1 >;
+
+		pll3_cfg1: pll3_cfg1 {
+			st,pll_vco = < &pll3_vco_417_8Mhz >;
+			st,pll_div_pqr = < 1 16 1 >;
+		};
+	};
+
+	/* VCO = 600.0 MHz => P = 50, Q = 10, R = 100 */
+	pll4:st,pll@3 {
+		compatible = "st,stm32mp1-pll";
+		reg = <3>;
+
+		st,pll = < &pll4_cfg1 >;
+
+		pll4_cfg1: pll4_cfg1 {
+			st,pll_vco = < &pll4_vco_600Mhz >;
+			st,pll_div_pqr = < 11 59 5 >;
+		};
+	};
+};
+
+&rng {
+	status = "okay";
+};
+
+/*
+&saes {
+	status = "okay";
+};*/
+
+&sdmmc1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&sdmmc1_b4_pins_a &sdmmc1_clk_pins_a>;
+	disable-wp;
+	st,neg-edge;
+	bus-width = <4>;
+	vmmc-supply = <&v3v3>;
+	status = "okay";
+};
+
+&sdmmc2 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&sdmmc2_b4_pins_a &sdmmc2_d47_pins_a>;
+	non-removable;
+	no-sd;
+	no-sdio;
+	st,neg-edge;
+	bus-width = <8>;
+	vmmc-supply = <&v3v3>;
+	vqmmc-supply = <&vdd>;
+	mmc-ddr-3_3v;
+	status = "okay";
+};
+
+&uart4 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart4_pins_a>;
+	status = "okay";
+};
+
+&uart8 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart8_pins_a>;
+	status = "disabled";
+};
+
+&usart1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&usart1_pins_a>;
+	uart-has-rtscts;
+	status = "disabled";
+};
diff --git a/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/tf-a-stm32mp_%.bbappend b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/tf-a-stm32mp_%.bbappend
index ad312c2a..dadef0ba 100644
--- a/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/tf-a-stm32mp_%.bbappend
+++ b/meta-st-stm32mp/recipes-bsp/trusted-firmware-a/tf-a-stm32mp_%.bbappend
@@ -1,3 +1,24 @@
+FILESEXTRAPATHS:prepend := "${THISDIR}/files:"
+
 SRC_URI += " \
      file://0099-Modify-Reset-reason-trace-level.patch \
+     file://add-stm32mp13xxae-tcu-tfa.patch \
      "
+SRC_URI:class-devupstream += " \
+     file://0099-Modify-Reset-reason-trace-level.patch \
+     file://add-stm32mp13xxae-tcu-tfa.patch \
+     "
+
+# Adding TCU device tree files to tf-a
+SRC_URI += "file://stm32mp13xxae-tcu.dts"
+SRC_URI:class-devupstream += "file://stm32mp13xxae-tcu.dts"
+SRC_URI += "file://stm32mp13xxae-tcu-fw-config.dts"
+SRC_URI:class-devupstream += "file://stm32mp13xxae-tcu-fw-config.dts"
+
+
+do_configure:prepend() {
+    # Copy TCU device tree into tf-a source
+    install -d ${S}/fdts
+    install -m 0644 ${WORKDIR}/stm32mp13xxae-tcu.dts ${S}/fdts/
+    install -m 0644 ${WORKDIR}/stm32mp13xxae-tcu-fw-config.dts ${S}/fdts/
+}
\ No newline at end of file
diff --git a/meta-st-stm32mp/recipes-bsp/u-boot/files/add-stm32mp13xxae-tcu-u-boot.patch b/meta-st-stm32mp/recipes-bsp/u-boot/files/add-stm32mp13xxae-tcu-u-boot.patch
new file mode 100644
index 00000000..50e79d1a
--- /dev/null
+++ b/meta-st-stm32mp/recipes-bsp/u-boot/files/add-stm32mp13xxae-tcu-u-boot.patch
@@ -0,0 +1,344 @@
+diff --git a/arch/arm/dts/Makefile b/arch/arm/dts/Makefile
+index 0fd5fee226..ef4dd0c1d8 100644
+--- a/arch/arm/dts/Makefile
++++ b/arch/arm/dts/Makefile
+@@ -1283,6 +1283,7 @@ dtb-$(CONFIG_ASPEED_AST2600) += ast2600-evb.dtb
+ dtb-$(CONFIG_ARCH_STI) += stih410-b2260.dtb
+ 
+ dtb-$(CONFIG_STM32MP13X) += \
++	stm32mp131dae-onekiwi.dtb \
+ 	stm32mp135f-dk.dtb
+ 
+ dtb-$(CONFIG_STM32MP15X) += \
+diff --git a/arch/arm/dts/stm32mp131dae-onekiwi-u-boot.dtsi b/arch/arm/dts/stm32mp131dae-onekiwi-u-boot.dtsi
+new file mode 100644
+index 0000000000..5b124aa6c1
+--- /dev/null
++++ b/arch/arm/dts/stm32mp131dae-onekiwi-u-boot.dtsi
+@@ -0,0 +1,57 @@
++// SPDX-License-Identifier: GPL-2.0-or-later OR BSD-3-Clause
++/*
++ * Copyright (C) 2022, STMicroelectronics - All Rights Reserved
++ */
++
++#include "stm32mp13-u-boot.dtsi"
++
++/ {
++	aliases {
++		mmc0 = &sdmmc1;
++		mmc1 = &sdmmc2;
++		usb0 = &usbotg_hs;
++	};
++
++	config {
++		u-boot,boot-led = "heartbeat";
++		u-boot,error-led = "error";
++		u-boot,mmc-env-partition = "u-boot-env";
++		//st,adc_usb_pd = <&adc1 6>, <&adc1 12>;
++		st,fastboot-gpios = <&gpioa 13 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
++		st,stm32prog-gpios = <&gpioa 14 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
++	};
++
++	fwu-mdata {
++		compatible = "u-boot,fwu-mdata-gpt";
++		fwu-mdata-store = <&sdmmc1>;
++	};
++
++	leds {
++		led-red {
++			label = "error";
++			gpios = <&gpioa 13 GPIO_ACTIVE_LOW>;
++		};
++
++		led-blue {
++			/delete-property/default-state;
++		};
++	};
++};
++
++&uart4 {
++	bootph-all;
++};
++
++&uart4_pins_a {
++	bootph-all;
++	pins1 {
++		bootph-all;
++	};
++	pins2 {
++		bootph-all;
++	};
++};
++
++&usbotg_hs {
++	u-boot,force-b-session-valid;
++};
+diff --git a/arch/arm/dts/stm32mp131dae-onekiwi.dts b/arch/arm/dts/stm32mp131dae-onekiwi.dts
+new file mode 100644
+index 0000000000..339f7586b9
+--- /dev/null
++++ b/arch/arm/dts/stm32mp131dae-onekiwi.dts
+@@ -0,0 +1,263 @@
++// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
++/*
++ * Copyright (C) STMicroelectronics 2021 - All Rights Reserved
++ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
++ */
++
++/dts-v1/;
++
++#include <dt-bindings/gpio/gpio.h>
++#include <dt-bindings/input/input.h>
++#include <dt-bindings/leds/common.h>
++#include <dt-bindings/rtc/rtc-stm32.h>
++#include "stm32mp131.dtsi"
++#include "stm32mp13xd.dtsi"
++#include "stm32mp13-pinctrl.dtsi"
++
++&pinctrl {
++	i2c4_pins_b: i2c4-1 {
++		pins {
++			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
++				 <STM32_PINMUX('B', 7, AF6)>; /* I2C4_SDA */
++			bias-disable;
++			drive-open-drain;
++			slew-rate = <0>;
++		};
++	};
++
++	i2c4_sleep_pins_b: i2c4-sleep-1 {
++		pins {
++			pinmux = <STM32_PINMUX('E', 15, ANALOG)>, /* I2C4_SCL */
++				 <STM32_PINMUX('B', 7, ANALOG)>; /* I2C4_SDA */
++		};
++	};
++
++	sdmmc2_d47_pins_a: sdmmc2-d47-0 {
++		pins {
++			pinmux = <STM32_PINMUX('F', 0, AF10)>, /* SDMMC2_D4 */
++				 <STM32_PINMUX('B', 9, AF10)>, /* SDMMC2_D5 */
++				 <STM32_PINMUX('C', 6, AF10)>, /* SDMMC2_D6 */
++				 <STM32_PINMUX('C', 7, AF10)>; /* SDMMC2_D7 */
++			slew-rate = <1>;
++			drive-push-pull;
++			bias-pull-up;
++		};
++	};
++
++	sdmmc2_d47_sleep_pins_a: sdmmc2-d47-sleep-0 {
++		pins {
++			pinmux = <STM32_PINMUX('F', 0, ANALOG)>, /* SDMMC2_D4 */
++				 <STM32_PINMUX('B', 9, ANALOG)>, /* SDMMC2_D5 */
++				 <STM32_PINMUX('C', 6, ANALOG)>, /* SDMMC2_D6 */
++				 <STM32_PINMUX('C', 7, ANALOG)>; /* SDMMC2_D7 */
++		};
++	};
++};
++
++/ {
++	model = "OneKiwi STM32MP131DAE SOM v1.1";
++	compatible = "st,stm32mp131dae-onekiwi", "st,stm32mp131";
++
++	aliases {
++		serial0 = &uart4;
++		mmc0 = &sdmmc1;
++		mmc1 = &sdmmc2;
++	};
++
++	chosen {
++		stdout-path = "serial0:115200n8";
++		#address-cells = <1>;
++		#size-cells = <1>;
++		ranges;
++
++		/*
++		framebuffer {
++			compatible = "simple-framebuffer";
++			clocks = <&rcc LTDC_PX>;
++			status = "disabled";
++		};*/
++	};
++
++	clocks {
++		clk_ext_camera: clk-ext-camera {
++			#clock-cells = <0>;
++			compatible = "fixed-clock";
++			clock-frequency = <24000000>;
++		};
++
++		clk_mco1: clk-mco1 {
++			#clock-cells = <0>;
++			compatible = "fixed-clock";
++			clock-frequency = <24000000>;
++		};
++	};
++
++	memory@c0000000 {
++		device_type = "memory";
++		reg = <0xc0000000 0x20000000>;
++	};
++
++	reserved-memory {
++		#address-cells = <1>;
++		#size-cells = <1>;
++		ranges;
++
++		optee@dd000000 {
++			reg = <0xdd000000 0x3000000>;
++			no-map;
++		};
++	};
++
++	gpio-keys {
++		compatible = "gpio-keys";
++
++		button-user {
++			label = "User-PA13";
++			linux,code = <BTN_1>;
++			gpios = <&gpioa 13 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
++		};
++
++		button-wakeup {
++			label = "wake-up";
++			linux,code = <KEY_WAKEUP>;
++			interrupts-extended = <&optee 0>;
++		};
++	};
++
++	leds {
++		compatible = "gpio-leds";
++
++		led-blue {
++			function = LED_FUNCTION_HEARTBEAT;
++			color = <LED_COLOR_ID_BLUE>;
++			gpios = <&gpioa 14 GPIO_ACTIVE_LOW>;
++			linux,default-trigger = "heartbeat";
++			default-state = "off";
++		};
++	};
++
++	vdd: vdd {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++
++	vdd_usb: vdd_usb {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd_usb";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++};
++
++&arm_wdt {
++	timeout-sec = <32>;
++	status = "okay";
++};
++
++&crc1 {
++	status = "okay";
++};
++
++&dts {
++	status = "okay";
++};
++
++&i2c4 {
++	pinctrl-names = "default", "sleep";
++	pinctrl-0 = <&i2c4_pins_b>;
++	pinctrl-1 = <&i2c4_sleep_pins_b>;
++	i2c-scl-rising-time-ns = <170>;
++	i2c-scl-falling-time-ns = <5>;
++	clock-frequency = <400000>;
++	status = "okay";
++	/delete-property/dmas;
++	/delete-property/dma-names;
++};
++
++&rtc {
++	st,lsco = <RTC_OUT2_RMP>;
++	pinctrl-0 = <&rtc_out2_rmp_pins_a>;
++	pinctrl-names = "default";
++	status = "okay";
++};
++
++/* microSD */
++&sdmmc1 {
++	pinctrl-names = "default", "opendrain", "sleep";
++	pinctrl-0 = <&sdmmc1_b4_pins_a &sdmmc1_clk_pins_a>;
++	pinctrl-1 = <&sdmmc1_b4_od_pins_a &sdmmc1_clk_pins_a>;
++	pinctrl-2 = <&sdmmc1_b4_sleep_pins_a>;
++	cd-gpios = <&gpioa 6 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
++	disable-wp;
++	st,neg-edge;
++	bus-width = <4>;
++	vmmc-supply = <&vdd>;
++	status = "okay";
++};
++
++/* eMMC */
++&sdmmc2 {
++	pinctrl-names = "default", "opendrain", "sleep";
++	pinctrl-0 = <&sdmmc2_b4_pins_a &sdmmc2_d47_pins_a &sdmmc2_clk_pins_a>;
++	pinctrl-1 = <&sdmmc2_b4_od_pins_a &sdmmc2_d47_pins_a &sdmmc2_clk_pins_a>;
++	pinctrl-2 = <&sdmmc2_b4_sleep_pins_a &sdmmc2_d47_sleep_pins_a>;
++	bus-width = <8>;
++	mmc-ddr-3_3v;
++	no-sd;
++	no-sdio;
++	non-removable;
++	st,neg-edge;
++	vmmc-supply = <&vdd>;
++	vqmmc-supply = <&vdd>;
++	status = "okay";
++};
++
++&usbh_ehci {
++	phys = <&usbphyc_port0>;
++	status = "okay";
++	#address-cells = <1>;
++	#size-cells = <0>;
++};
++
++&usbotg_hs {
++	phys = <&usbphyc_port1 0>;
++	phy-names = "usb2-phy";
++	usb-role-switch;
++	status = "okay";
++};
++
++&usbphyc {
++	status = "okay";
++};
++
++&usbphyc_port0 {
++	phy-supply = <&vdd_usb>;
++	st,current-boost-microamp = <1000>;
++	st,decrease-hs-slew-rate;
++	st,tune-hs-dc-level = <2>;
++	st,enable-hs-rftime-reduction;
++	st,trim-hs-current = <11>;
++	st,trim-hs-impedance = <2>;
++	st,tune-squelch-level = <1>;
++	st,enable-hs-rx-gain-eq;
++	st,no-hs-ftime-ctrl;
++	st,no-lsfs-sc;
++};
++
++&usbphyc_port1 {
++	phy-supply = <&vdd_usb>;
++	st,current-boost-microamp = <1000>;
++	st,decrease-hs-slew-rate;
++	st,tune-hs-dc-level = <2>;
++	st,enable-hs-rftime-reduction;
++	st,trim-hs-current = <11>;
++	st,trim-hs-impedance = <2>;
++	st,tune-squelch-level = <1>;
++	st,enable-hs-rx-gain-eq;
++	st,no-hs-ftime-ctrl;
++	st,no-lsfs-sc;
++};
diff --git a/meta-st-stm32mp/recipes-bsp/u-boot/files/stm32mp13xxae-tcu-u-boot.dtsi b/meta-st-stm32mp/recipes-bsp/u-boot/files/stm32mp13xxae-tcu-u-boot.dtsi
new file mode 100644
index 00000000..27da5b6f
--- /dev/null
+++ b/meta-st-stm32mp/recipes-bsp/u-boot/files/stm32mp13xxae-tcu-u-boot.dtsi
@@ -0,0 +1,45 @@
+// SPDX-License-Identifier: GPL-2.0-or-later OR BSD-3-Clause
+/*
+ * Copyright (C) 2022, STMicroelectronics - All Rights Reserved
+ */
+
+#include "stm32mp13-u-boot.dtsi"
+
+/ {
+	aliases {
+		mmc0 = &sdmmc1;
+		mmc1 = &sdmmc2;
+		usb0 = &usbotg_hs;
+	};
+
+	config {
+		u-boot,boot-led = "led-blue";
+		u-boot,error-led = "led-red";
+		u-boot,mmc-env-partition = "u-boot-env";
+		st,adc_usb_pd = <&adc1 6>, <&adc1 12>;
+		st,fastboot-gpios = <&gpioa 13 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
+		st,stm32prog-gpios = <&gpioa 14 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
+	};
+
+	leds {
+		led-red {
+			color = <LED_COLOR_ID_RED>;
+			gpios = <&gpioa 13 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+		};
+	};
+};
+
+&uart4 {
+	u-boot,dm-pre-reloc;
+};
+
+&uart4_pins_a {
+	u-boot,dm-pre-reloc;
+	pins1 {
+		u-boot,dm-pre-reloc;
+	};
+	pins2 {
+		u-boot,dm-pre-reloc;
+	};
+};
diff --git a/meta-st-stm32mp/recipes-bsp/u-boot/files/stm32mp13xxae-tcu.dts b/meta-st-stm32mp/recipes-bsp/u-boot/files/stm32mp13xxae-tcu.dts
new file mode 100644
index 00000000..f37267ae
--- /dev/null
+++ b/meta-st-stm32mp/recipes-bsp/u-boot/files/stm32mp13xxae-tcu.dts
@@ -0,0 +1,440 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) STMicroelectronics 2021 - All Rights Reserved
+ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
+ */
+
+/dts-v1/;
+
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/input/input.h>
+#include <dt-bindings/leds/common.h>
+#include <dt-bindings/rtc/rtc-stm32.h>
+#include <dt-bindings/pinctrl/stm32-pinfunc.h>
+#include "stm32mp135.dtsi"
+#include "stm32mp13xd.dtsi"
+#include "stm32mp13-pinctrl.dtsi"
+
+&pinctrl {
+
+	i2c4_pins_b: i2c4-1 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
+				 <STM32_PINMUX('B', 7, AF6)>; /* I2C4_SDA */
+			bias-disable;
+			drive-open-drain;
+			slew-rate = <0>;
+		};
+	};
+
+	i2c4_sleep_pins_b: i2c4-sleep-1 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 15, ANALOG)>, /* I2C4_SCL */
+				 <STM32_PINMUX('B', 7, ANALOG)>; /* I2C4_SDA */
+		};
+	};
+
+	sdmmc2_d47_pins_a: sdmmc2-d47-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 0, AF10)>, /* SDMMC2_D4 */
+				 <STM32_PINMUX('B', 9, AF10)>, /* SDMMC2_D5 */
+				 <STM32_PINMUX('C', 6, AF10)>, /* SDMMC2_D6 */
+				 <STM32_PINMUX('C', 7, AF10)>; /* SDMMC2_D7 */
+			slew-rate = <1>;
+			drive-push-pull;
+			bias-pull-up;
+		};
+	};
+
+	sdmmc2_d47_sleep_pins_a: sdmmc2-d47-sleep-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 0, ANALOG)>, /* SDMMC2_D4 */
+				 <STM32_PINMUX('B', 9, ANALOG)>, /* SDMMC2_D5 */
+				 <STM32_PINMUX('C', 6, ANALOG)>, /* SDMMC2_D6 */
+				 <STM32_PINMUX('C', 7, ANALOG)>; /* SDMMC2_D7 */
+		};
+	};
+};
+
+/ {
+	model = "STM32MP13xxAE TCU v1.0";
+	compatible = "st,stm32mp13xxae-tcu", "st,stm32mp135";
+
+	aliases {
+		serial0 = &uart4;
+	};
+
+	chosen {
+		stdout-path = "serial0:115200n8";
+		#address-cells = <1>;
+		#size-cells = <1>;
+		ranges;
+
+		/*
+		framebuffer {
+			compatible = "simple-framebuffer";
+			clocks = <&rcc LTDC_PX>;
+			status = "disabled";
+		};*/
+	};
+
+	/*
+	clocks {
+		clk_ext_camera: clk-ext-camera {
+			#clock-cells = <0>;
+			compatible = "fixed-clock";
+			clock-frequency = <24000000>;
+		};
+
+		clk_mco1: clk-mco1 {
+			#clock-cells = <0>;
+			compatible = "fixed-clock";
+			clock-frequency = <24000000>;
+		};
+	};*/
+
+	memory@c0000000 {
+		device_type = "memory";
+		reg = <0xc0000000 0x20000000>;
+	};
+
+	reserved-memory {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		ranges;
+
+		optee@dd000000 {
+			reg = <0xdd000000 0x3000000>;
+			no-map;
+		};
+	};
+
+	gpio-keys {
+		compatible = "gpio-keys";
+
+		user-pa13 {
+			label = "User-PA13";
+			linux,code = <BTN_1>;
+			gpios = <&gpioa 13 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
+		};
+	};
+
+	leds {
+		compatible = "gpio-leds";
+
+		led-blue {
+			function = LED_FUNCTION_HEARTBEAT;
+			color = <LED_COLOR_ID_BLUE>;
+			gpios = <&gpioa 14 GPIO_ACTIVE_LOW>;
+			linux,default-trigger = "heartbeat";
+			default-state = "off";
+		};
+	};
+
+	v3v3: v3v3 {
+		compatible = "regulator-fixed";
+		regulator-name = "v3v3";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	vdd_usb: vdd_usb {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd_usb";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	wake_up {
+		compatible = "gpio-keys";
+		status = "okay";
+
+		button {
+			label = "wake-up";
+			linux,code = <KEY_WAKEUP>;
+			interrupts-extended = <&optee 0>;
+			status = "okay";
+		};
+	};
+};
+
+/*
+&adc_1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&adc1_usb_cc_pins_a>;
+	vdda-supply = <&v3v3>;
+	vref-supply = <&v3v3>;
+	status = "okay";
+	
+	adc1: adc@0 {
+		status = "okay";
+		channel@6 {
+			reg = <6>;
+			st,min-sample-time-ns = <5000>;
+		};
+		channel@12 {
+			reg = <12>;
+			st,min-sample-time-ns = <5000>;
+		};
+	};
+};*/
+
+&arm_wdt {
+	timeout-sec = <32>;
+	status = "okay";
+};
+
+&crc1 {
+	status = "okay";
+};
+
+/*
+&cryp {
+	status = "okay";
+};*/
+
+&dcmipp {
+	status = "okay";
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&dcmipp_pins_a>;
+	pinctrl-1 = <&dcmipp_sleep_pins_a>;
+};
+
+&dts {
+	status = "okay";
+};
+
+
+&i2c1 {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&i2c1_pins_a>;
+	pinctrl-1 = <&i2c1_sleep_pins_a>;
+	i2c-scl-rising-time-ns = <96>;
+	i2c-scl-falling-time-ns = <3>;
+	clock-frequency = <1000000>;
+	status = "okay";
+	/delete-property/dmas;
+	/delete-property/dma-names;
+};
+
+&i2c4 {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&i2c4_pins_b>;
+	pinctrl-1 = <&i2c4_sleep_pins_b>;
+	i2c-scl-rising-time-ns = <170>;
+	i2c-scl-falling-time-ns = <5>;
+	clock-frequency = <400000>;
+	status = "okay";
+	/* spare dmas for other usage */
+	/delete-property/dmas;
+	/delete-property/dma-names;
+};
+
+&i2c5 {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&i2c5_pins_a>;
+	pinctrl-1 = <&i2c5_sleep_pins_a>;
+	i2c-scl-rising-time-ns = <170>;
+	i2c-scl-falling-time-ns = <5>;
+	clock-frequency = <400000>;
+	status = "okay";
+	/* spare dmas for other usage */
+	/delete-property/dmas;
+	/delete-property/dma-names;
+};
+
+&ltdc {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&ltdc_pins_a>;
+	pinctrl-1 = <&ltdc_sleep_pins_a>;
+	status = "okay";
+};
+
+&rtc {
+	st,lsco = <RTC_OUT2_RMP>;
+	pinctrl-0 = <&rtc_out2_rmp_pins_a>;
+	pinctrl-names = "default";
+	status = "okay";
+};
+
+/* microSD */
+&sdmmc1 {
+	pinctrl-names = "default", "opendrain", "sleep";
+	pinctrl-0 = <&sdmmc1_b4_pins_a &sdmmc1_clk_pins_a>;
+	pinctrl-1 = <&sdmmc1_b4_od_pins_a &sdmmc1_clk_pins_a>;
+	pinctrl-2 = <&sdmmc1_b4_sleep_pins_a>;
+	cd-gpios = <&gpioa 6 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
+	disable-wp;
+	st,neg-edge;
+	bus-width = <4>;
+	vmmc-supply = <&v3v3>;
+	status = "okay";
+};
+
+/* eMMC */
+&sdmmc2 {
+	pinctrl-names = "default", "opendrain", "sleep";
+	pinctrl-0 = <&sdmmc2_b4_pins_a &sdmmc2_d47_pins_a>;
+	pinctrl-1 = <&sdmmc2_b4_od_pins_a &sdmmc2_d47_pins_a>;
+	pinctrl-2 = <&sdmmc2_b4_sleep_pins_a &sdmmc2_d47_sleep_pins_a>;
+	non-removable;
+	no-sd;
+	no-sdio;
+	st,neg-edge;
+	bus-width = <8>;
+	vmmc-supply = <&v3v3>;
+	vqmmc-supply = <&v3v3>;
+	mmc-ddr-3_3v;
+	status = "okay";
+};
+
+&spi5 {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&spi5_pins_a>;
+	pinctrl-1 = <&spi5_sleep_pins_a>;
+	status = "disabled";
+};
+
+&timers3 {
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm3_pins_a>;
+		pinctrl-1 = <&pwm3_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@2 {
+		status = "okay";
+	};
+};
+
+&timers4 {
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm4_pins_a>;
+		pinctrl-1 = <&pwm4_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@3 {
+		status = "okay";
+	};
+};
+
+&timers8 {
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm8_pins_a>;
+		pinctrl-1 = <&pwm8_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@7 {
+		status = "okay";
+	};
+};
+
+&timers14 {
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm14_pins_a>;
+		pinctrl-1 = <&pwm14_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@13 {
+		status = "okay";
+	};
+};
+
+&uart4 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&uart4_pins_a>;
+	pinctrl-1 = <&uart4_sleep_pins_a>;
+	pinctrl-2 = <&uart4_idle_pins_a>;
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "okay";
+};
+
+&uart8 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&uart8_pins_a>;
+	pinctrl-1 = <&uart8_sleep_pins_a>;
+	pinctrl-2 = <&uart8_idle_pins_a>;
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+};
+
+&usart1 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&usart1_pins_a>;
+	pinctrl-1 = <&usart1_sleep_pins_a>;
+	pinctrl-2 = <&usart1_idle_pins_a>;
+	uart-has-rtscts;
+	status = "disabled";
+};
+
+&usart2 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&usart2_pins_a>;
+	pinctrl-1 = <&usart2_sleep_pins_a>;
+	pinctrl-2 = <&usart2_idle_pins_a>;
+	uart-has-rtscts;
+	status = "okay";
+};
+
+&usbh_ehci {
+	phys = <&usbphyc_port0>;
+	status = "okay";
+	#address-cells = <1>;
+	#size-cells = <0>;
+};
+
+&usbotg_hs {
+	phys = <&usbphyc_port1 0>;
+	phy-names = "usb2-phy";
+	usb-role-switch;
+	status = "okay";
+};
+
+&usbphyc {
+	status = "okay";
+};
+
+&usbphyc_port0 {
+	phy-supply = <&vdd_usb>;
+	st,current-boost-microamp = <1000>;
+	st,decrease-hs-slew-rate;
+	st,tune-hs-dc-level = <2>;
+	st,enable-hs-rftime-reduction;
+	st,trim-hs-current = <11>;
+	st,trim-hs-impedance = <2>;
+	st,tune-squelch-level = <1>;
+	st,enable-hs-rx-gain-eq;
+	st,no-hs-ftime-ctrl;
+	st,no-lsfs-sc;
+};
+
+&usbphyc_port1 {
+	phy-supply = <&vdd_usb>;
+	st,current-boost-microamp = <1000>;
+	st,decrease-hs-slew-rate;
+	st,tune-hs-dc-level = <2>;
+	st,enable-hs-rftime-reduction;
+	st,trim-hs-current = <11>;
+	st,trim-hs-impedance = <2>;
+	st,tune-squelch-level = <1>;
+	st,enable-hs-rx-gain-eq;
+	st,no-hs-ftime-ctrl;
+	st,no-lsfs-sc;
+};
diff --git a/meta-st-stm32mp/recipes-bsp/u-boot/u-boot-stm32mp_2023.10.bbappend b/meta-st-stm32mp/recipes-bsp/u-boot/u-boot-stm32mp_2023.10.bbappend
new file mode 100644
index 00000000..62a32d84
--- /dev/null
+++ b/meta-st-stm32mp/recipes-bsp/u-boot/u-boot-stm32mp_2023.10.bbappend
@@ -0,0 +1,27 @@
+FILESEXTRAPATHS:prepend := "${THISDIR}/files:"
+
+SRC_URI += " \
+     file://add-stm32mp13xxae-tcu-u-boot.patch \
+     "
+SRC_URI:class-devupstream += " \
+     file://add-stm32mp13xxae-tcu-u-boot.patch \
+     "
+
+# Add TCU device tree files to u-boot
+SRC_URI += "file://stm32mp13xxae-tcu.dts"
+SRC_URI:class-devupstream += "file://stm32mp13xxae-tcu.dts"
+SRC_URI += "file://stm32mp13xxae-tcu-u-boot.dtsi"
+SRC_URI:class-devupstream += "file://stm32mp13xxae-tcu-u-boot.dtsi"
+
+do_configure:prepend() {
+    # Copy TCU device tree to u-boot source
+    install -d ${S}/arch/arm/dts
+    install -m 0644 ${WORKDIR}/stm32mp13xxae-tcu.dts ${S}/arch/arm/dts/
+    install -m 0644 ${WORKDIR}/stm32mp13xxae-tcu-u-boot.dtsi ${S}/arch/arm/dts/
+    
+    if [ -f ${S}/arch/arm/dts/Makefile ]; then
+        if ! grep -q "stm32mp13xxae-tcu.dtb" ${S}/arch/arm/dts/Makefile; then
+            sed -i '/^dtb-\$(CONFIG_STM32MP13X) +=/a\\tstm32mp13xxae-tcu.dtb \\' ${S}/arch/arm/dts/Makefile
+        fi
+    fi
+}
\ No newline at end of file
diff --git a/meta-st-stm32mp/recipes-kernel/linux/files/add-stm32mp13xxae-tcu-kernel.patch b/meta-st-stm32mp/recipes-kernel/linux/files/add-stm32mp13xxae-tcu-kernel.patch
new file mode 100644
index 00000000..f5a7a77e
--- /dev/null
+++ b/meta-st-stm32mp/recipes-kernel/linux/files/add-stm32mp13xxae-tcu-kernel.patch
@@ -0,0 +1,407 @@
+diff --git a/arch/arm/boot/dts/st/Makefile b/arch/arm/boot/dts/st/Makefile
+index 1c201b5b5533..03e0bf177a18 100644
+--- a/arch/arm/boot/dts/st/Makefile
++++ b/arch/arm/boot/dts/st/Makefile
+@@ -30,6 +30,8 @@ dtb-$(CONFIG_ARCH_STM32) += \
+ 	stm32h750i-art-pi.dtb \
+ 	stm32mp135f-dk.dtb \
+ 	stm32mp135f-dk-a7-examples.dtb \
++	stm32mp131dae-onekiwi.dtb \
++	stm32mp131dae-onekiwi-a7-examples.dtb \
+ 	stm32mp151a-prtt1a.dtb \
+ 	stm32mp151a-prtt1c.dtb \
+ 	stm32mp151a-prtt1s.dtb \
+diff --git a/arch/arm/boot/dts/st/stm32mp131dae-onekiwi-a7-examples.dts b/arch/arm/boot/dts/st/stm32mp131dae-onekiwi-a7-examples.dts
+new file mode 100644
+index 000000000000..bb49496b92a1
+--- /dev/null
++++ b/arch/arm/boot/dts/st/stm32mp131dae-onekiwi-a7-examples.dts
+@@ -0,0 +1,111 @@
++// SPDX-License-Identifier: (GPL-2.0-or-later OR BSD-3-Clause)
++/*
++ * Copyright (C) STMicroelectronics 2022 - All Rights Reserved
++ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
++ */
++
++/dts-v1/;
++
++#include "stm32mp131dae-onekiwi.dts"
++
++/ {
++	model = "OneKiwi STM32MP131DAE SOM v1.1 configured to run Linux A7 examples";
++	compatible = "st,stm32mp131dae-onekiwi-a7-examples", "st,stm32mp131dae-onekiwi", "st,stm32mp131";
++
++	dmic0: dmic-0 {
++		compatible = "dmic-codec";
++		#sound-dai-cells = <1>;
++		sound-name-prefix = "dmic0";
++		status = "disabled";
++
++		port {
++			dmic0_endpoint: endpoint {
++				remote-endpoint = <&dfsdm_endpoint0>;
++			};
++		};
++	};
++
++	dmic1: dmic-1 {
++		compatible = "dmic-codec";
++		#sound-dai-cells = <1>;
++		sound-name-prefix = "dmic1";
++		status = "disabled";
++
++		port {
++			dmic1_endpoint: endpoint {
++				remote-endpoint = <&dfsdm_endpoint1>;
++			};
++		};
++	};
++
++/*
++ * Sound card to support external digital microphones connected
++ * on the expansion connector.
++ */
++	sound {
++		compatible = "audio-graph-card";
++		label = "STM32MP13-DK";
++		dais = <&dfsdm0_port &dfsdm1_port>;
++		status = "disabled";
++	};
++};
++
++&dfsdm {
++	pinctrl-names = "default", "sleep";
++	pinctrl-0 = <&dfsdm_clkout_pins_a
++		     &dfsdm_datin1_pins_a &dfsdm_datin3_pins_a>;
++	pinctrl-1 = <&dfsdm_clkout_sleep_pins_a
++		     &dfsdm_datin1_sleep_pins_a &dfsdm_datin3_sleep_pins_a>;
++	spi-max-frequency = <2048000>;
++
++	clocks = <&rcc DFSDM_K>, <&rcc ADFSDM_K>;
++	clock-names = "dfsdm", "audio";
++	status = "disabled";
++
++	dfsdm0: filter@0 {
++		compatible = "st,stm32-dfsdm-dmic";
++		st,adc-channels = <3>;
++		st,adc-channel-names = "dmic0";
++		st,adc-channel-types = "SPI_R";
++		st,adc-channel-clk-src = "CLKOUT";
++		st,filter-order = <3>;
++		status = "okay";
++
++		asoc_pdm0: dfsdm-dai {
++			compatible = "st,stm32h7-dfsdm-dai";
++			#sound-dai-cells = <0>;
++			io-channels = <&dfsdm0 0>;
++			status = "okay";
++
++			dfsdm0_port: port {
++				dfsdm_endpoint0: endpoint {
++					remote-endpoint = <&dmic0_endpoint>;
++				};
++			};
++		};
++	};
++
++	dfsdm1: filter@1 {
++		compatible = "st,stm32-dfsdm-dmic";
++		st,adc-channels = <0>;
++		st,adc-channel-names = "dmic1";
++		st,adc-channel-types = "SPI_F";
++		st,adc-channel-clk-src = "CLKOUT";
++		st,filter-order = <3>;
++		st,adc-alt-channel;
++		status = "okay";
++
++		asoc_pdm1: dfsdm-dai {
++			compatible = "st,stm32h7-dfsdm-dai";
++			#sound-dai-cells = <0>;
++			io-channels = <&dfsdm1 0>;
++			status = "okay";
++
++			dfsdm1_port: port {
++				dfsdm_endpoint1: endpoint {
++					remote-endpoint = <&dmic1_endpoint>;
++				};
++			};
++		};
++	};
++};
+diff --git a/arch/arm/boot/dts/st/stm32mp131dae-onekiwi.dts b/arch/arm/boot/dts/st/stm32mp131dae-onekiwi.dts
+new file mode 100644
+index 000000000000..13d72633e964
+--- /dev/null
++++ b/arch/arm/boot/dts/st/stm32mp131dae-onekiwi.dts
+@@ -0,0 +1,271 @@
++// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
++/*
++ * Copyright (C) STMicroelectronics 2021 - All Rights Reserved
++ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
++ */
++
++/dts-v1/;
++
++#include <dt-bindings/gpio/gpio.h>
++#include <dt-bindings/input/input.h>
++#include <dt-bindings/leds/common.h>
++#include <dt-bindings/rtc/rtc-stm32.h>
++#include "stm32mp131.dtsi"
++#include "stm32mp13xf.dtsi"
++#include "stm32mp13-pinctrl.dtsi"
++
++&pinctrl {
++	i2c4_pins_b: i2c4-1 {
++		pins {
++			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
++				 <STM32_PINMUX('B', 7, AF6)>; /* I2C4_SDA */
++			bias-disable;
++			drive-open-drain;
++			slew-rate = <0>;
++		};
++	};
++
++	i2c4_sleep_pins_b: i2c4-sleep-1 {
++		pins {
++			pinmux = <STM32_PINMUX('E', 15, ANALOG)>, /* I2C4_SCL */
++				 <STM32_PINMUX('B', 7, ANALOG)>; /* I2C4_SDA */
++		};
++	};
++
++	sdmmc2_d47_pins_a: sdmmc2-d47-0 {
++		pins {
++			pinmux = <STM32_PINMUX('F', 0, AF10)>, /* SDMMC2_D4 */
++				 <STM32_PINMUX('B', 9, AF10)>, /* SDMMC2_D5 */
++				 <STM32_PINMUX('C', 6, AF10)>, /* SDMMC2_D6 */
++				 <STM32_PINMUX('C', 7, AF10)>; /* SDMMC2_D7 */
++			slew-rate = <1>;
++			drive-push-pull;
++			bias-pull-up;
++		};
++	};
++
++	sdmmc2_d47_sleep_pins_a: sdmmc2-d47-sleep-0 {
++		pins {
++			pinmux = <STM32_PINMUX('F', 0, ANALOG)>, /* SDMMC2_D4 */
++				 <STM32_PINMUX('B', 9, ANALOG)>, /* SDMMC2_D5 */
++				 <STM32_PINMUX('C', 6, ANALOG)>, /* SDMMC2_D6 */
++				 <STM32_PINMUX('C', 7, ANALOG)>; /* SDMMC2_D7 */
++		};
++	};
++};
++
++/ {
++	model = "OneKiwi STM32MP131DAE SOM v1.1";
++	compatible = "st,stm32mp131dae-onekiwi", "st,stm32mp131";
++
++	aliases {
++		serial0 = &uart4;
++	};
++
++	chosen {
++		stdout-path = "serial0:115200n8";
++		#address-cells = <1>;
++		#size-cells = <1>;
++		ranges;
++		/*
++		framebuffer {
++			compatible = "simple-framebuffer";
++			clocks = <&rcc LTDC_PX>;
++			status = "disabled";
++		};*/
++	};
++
++	clocks {
++		clk_ext_camera: clk-ext-camera {
++			#clock-cells = <0>;
++			compatible = "fixed-clock";
++			clock-frequency = <24000000>;
++		};
++
++		clk_mco1: clk-mco1 {
++			#clock-cells = <0>;
++			compatible = "fixed-clock";
++			clock-frequency = <24000000>;
++		};
++	};
++
++	memory@c0000000 {
++		device_type = "memory";
++		reg = <0xc0000000 0x20000000>;
++	};
++
++	reserved-memory {
++		#address-cells = <1>;
++		#size-cells = <1>;
++		ranges;
++
++		optee@dd000000 {
++			reg = <0xdd000000 0x3000000>;
++			no-map;
++		};
++	};
++
++	gpio-keys {
++		compatible = "gpio-keys";
++
++		button-user {
++			label = "User-PA13";
++			linux,code = <BTN_1>;
++			gpios = <&gpioa 13 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
++		};
++
++		button-wakeup {
++			label = "wake-up";
++			linux,code = <KEY_WAKEUP>;
++			interrupts-extended = <&optee 0>;
++		};
++	};
++
++	leds {
++		compatible = "gpio-leds";
++
++		led-blue {
++			function = LED_FUNCTION_HEARTBEAT;
++			color = <LED_COLOR_ID_BLUE>;
++			gpios = <&gpioa 14 GPIO_ACTIVE_LOW>;
++			linux,default-trigger = "heartbeat";
++			default-state = "off";
++		};
++	};
++
++	vdd: vdd {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++
++	vdd_usb: vdd_usb {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd_usb";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++
++	vdd_adc: vdd_adc {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd_adc";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++
++};
++
++&arm_wdt {
++	timeout-sec = <32>;
++	status = "okay";
++};
++
++&crc1 {
++	status = "okay";
++};
++
++&cryp {
++	status = "okay";
++};
++
++&dts {
++	status = "okay";
++};
++
++&rtc {
++	st,lsco = <RTC_OUT2_RMP>;
++	pinctrl-0 = <&rtc_out2_rmp_pins_a>;
++	pinctrl-names = "default";
++	status = "okay";
++};
++
++/* microSD */
++&sdmmc1 {
++	pinctrl-names = "default", "opendrain", "sleep";
++	pinctrl-0 = <&sdmmc1_b4_pins_a &sdmmc1_clk_pins_a>;
++	pinctrl-1 = <&sdmmc1_b4_od_pins_a &sdmmc1_clk_pins_a>;
++	pinctrl-2 = <&sdmmc1_b4_sleep_pins_a>;
++	cd-gpios = <&gpioa 6 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
++	disable-wp;
++	st,neg-edge;
++	bus-width = <4>;
++	vmmc-supply = <&vdd>;
++	status = "okay";
++};
++
++/* eMMC */
++&sdmmc2 {
++	pinctrl-names = "default", "opendrain", "sleep";
++	pinctrl-0 = <&sdmmc2_b4_pins_a &sdmmc2_d47_pins_a &sdmmc2_clk_pins_a>;
++	pinctrl-1 = <&sdmmc2_b4_od_pins_a &sdmmc2_d47_pins_a &sdmmc2_clk_pins_a>;
++	pinctrl-2 = <&sdmmc2_b4_sleep_pins_a &sdmmc2_d47_sleep_pins_a>;
++	non-removable;
++	no-sd;
++	no-sdio;
++	st,neg-edge;
++	bus-width = <8>;
++	vmmc-supply = <&vdd>;
++	vqmmc-supply = <&vdd>;
++	mmc-ddr-3_3v;
++	status = "okay";
++};
++
++&uart4 {
++	pinctrl-names = "default", "sleep", "idle";
++	pinctrl-0 = <&uart4_pins_a>;
++	pinctrl-1 = <&uart4_sleep_pins_a>;
++	pinctrl-2 = <&uart4_idle_pins_a>;
++	/delete-property/dmas;
++	/delete-property/dma-names;
++	status = "okay";
++};
++
++&usbh_ehci {
++	phys = <&usbphyc_port0>;
++	status = "okay";
++	#address-cells = <1>;
++	#size-cells = <0>;
++};
++
++&usbotg_hs {
++	phys = <&usbphyc_port1 0>;
++	phy-names = "usb2-phy";
++	usb-role-switch;
++	status = "okay";
++};
++
++&usbphyc {
++	status = "okay";
++};
++
++&usbphyc_port0 {
++	phy-supply = <&vdd_usb>;
++	st,current-boost-microamp = <1000>;
++	st,decrease-hs-slew-rate;
++	st,tune-hs-dc-level = <2>;
++	st,enable-hs-rftime-reduction;
++	st,trim-hs-current = <11>;
++	st,trim-hs-impedance = <2>;
++	st,tune-squelch-level = <1>;
++	st,enable-hs-rx-gain-eq;
++	st,no-hs-ftime-ctrl;
++	st,no-lsfs-sc;
++};
++
++&usbphyc_port1 {
++	phy-supply = <&vdd_usb>;
++	st,current-boost-microamp = <1000>;
++	st,decrease-hs-slew-rate;
++	st,tune-hs-dc-level = <2>;
++	st,enable-hs-rftime-reduction;
++	st,trim-hs-current = <11>;
++	st,trim-hs-impedance = <2>;
++	st,tune-squelch-level = <1>;
++	st,enable-hs-rx-gain-eq;
++	st,no-hs-ftime-ctrl;
++	st,no-lsfs-sc;
++};
diff --git a/meta-st-stm32mp/recipes-kernel/linux/files/stm32mp13xxae-tcu-a7-examples.dts b/meta-st-stm32mp/recipes-kernel/linux/files/stm32mp13xxae-tcu-a7-examples.dts
new file mode 100644
index 00000000..da4e9639
--- /dev/null
+++ b/meta-st-stm32mp/recipes-kernel/linux/files/stm32mp13xxae-tcu-a7-examples.dts
@@ -0,0 +1,123 @@
+// SPDX-License-Identifier: (GPL-2.0-or-later OR BSD-3-Clause)
+/*
+ * Copyright (C) STMicroelectronics 2022 - All Rights Reserved
+ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
+ */
+
+/dts-v1/;
+
+#include "stm32mp13xxae-tcu.dts"
+
+/ {
+	model = "STM32MP13xxAE TCU v1.0 configured to run Linux A7 examples";
+	compatible = "st,stm32mp13xxae-tcu-a7-examples", "st,stm32mp13xxae-tcu", "st,stm32mp135";
+    
+	dmic0: dmic-0 {
+		compatible = "dmic-codec";
+		#sound-dai-cells = <1>;
+		sound-name-prefix = "dmic0";
+		status = "disabled";
+
+		port {
+			dmic0_endpoint: endpoint {
+				remote-endpoint = <&dfsdm_endpoint0>;
+			};
+		};
+	};
+
+	dmic1: dmic-1 {
+		compatible = "dmic-codec";
+		#sound-dai-cells = <1>;
+		sound-name-prefix = "dmic1";
+		status = "disabled";
+
+		port {
+			dmic1_endpoint: endpoint {
+				remote-endpoint = <&dfsdm_endpoint1>;
+			};
+		};
+	};
+
+	sound {
+		compatible = "audio-graph-card";
+		label = "STM32MP13-DK";
+		dais = <&dfsdm0_port &dfsdm1_port>;
+		status = "disabled";
+	};
+};
+
+&dfsdm {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&dfsdm_clkout_pins_a
+		     &dfsdm_datin1_pins_a &dfsdm_datin3_pins_a>;
+	pinctrl-1 = <&dfsdm_clkout_sleep_pins_a
+		     &dfsdm_datin1_sleep_pins_a &dfsdm_datin3_sleep_pins_a>;
+	spi-max-frequency = <2048000>;
+
+	clocks = <&rcc DFSDM_K>, <&rcc ADFSDM_K>;
+	clock-names = "dfsdm", "audio";
+	status = "disabled";
+
+	dfsdm0: filter@0 {
+		compatible = "st,stm32-dfsdm-dmic";
+		st,adc-channels = <3>;
+		st,adc-channel-names = "dmic0";
+		st,adc-channel-types = "SPI_R";
+		st,adc-channel-clk-src = "CLKOUT";
+		st,filter-order = <3>;
+		status = "okay";
+
+		asoc_pdm0: dfsdm-dai {
+			compatible = "st,stm32h7-dfsdm-dai";
+			#sound-dai-cells = <0>;
+			io-channels = <&dfsdm0 0>;
+			status = "okay";
+
+			dfsdm0_port: port {
+				dfsdm_endpoint0: endpoint {
+					remote-endpoint = <&dmic0_endpoint>;
+				};
+			};
+		};
+	};
+	
+	dfsdm1: filter@1 {
+		compatible = "st,stm32-dfsdm-dmic";
+		st,adc-channels = <0>;
+		st,adc-channel-names = "dmic1";
+		st,adc-channel-types = "SPI_F";
+		st,adc-channel-clk-src = "CLKOUT";
+		st,filter-order = <3>;
+		st,adc-alt-channel = <1>;
+		status = "okay";
+
+		asoc_pdm1: dfsdm-dai {
+			compatible = "st,stm32h7-dfsdm-dai";
+			#sound-dai-cells = <0>;
+			io-channels = <&dfsdm1 0>;
+			status = "okay";
+
+			dfsdm1_port: port {
+				dfsdm_endpoint1: endpoint {
+					remote-endpoint = <&dmic1_endpoint>;
+				};
+			};
+		};
+	};
+};
+
+&timers4 {
+	status = "okay";
+};
+
+&timers8 {
+	status = "okay";
+};
+
+&uart8 {
+	status = "okay";
+};
+
+&usart1 {
+	status = "okay";
+};
diff --git a/meta-st-stm32mp/recipes-kernel/linux/files/stm32mp13xxae-tcu.dts b/meta-st-stm32mp/recipes-kernel/linux/files/stm32mp13xxae-tcu.dts
new file mode 100644
index 00000000..0157dd1a
--- /dev/null
+++ b/meta-st-stm32mp/recipes-kernel/linux/files/stm32mp13xxae-tcu.dts
@@ -0,0 +1,427 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) STMicroelectronics 2021 - All Rights Reserved
+ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
+ */
+
+/dts-v1/;
+
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/input/input.h>
+#include <dt-bindings/leds/common.h>
+//#include <dt-bindings/regulator/st,stm32mp13-regulator.h>
+#include <dt-bindings/rtc/rtc-stm32.h>
+#include "stm32mp135.dtsi"
+#include "stm32mp13xf.dtsi"
+#include "stm32mp13-pinctrl.dtsi"
+
+&pinctrl {
+	/* sdmmc2_d47 */
+	sdmmc2_d47_pins_a: sdmmc2-d47-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 0, AF10)>, /* SDMMC2_D4 */
+				 <STM32_PINMUX('B', 9, AF10)>, /* SDMMC2_D5 */
+				 <STM32_PINMUX('C', 6, AF10)>, /* SDMMC2_D6 */
+				 <STM32_PINMUX('C', 7, AF10)>; /* SDMMC2_D7 */
+			slew-rate = <1>;
+			drive-push-pull;
+			bias-pull-up;
+		};
+	};
+    
+	sdmmc2_d47_sleep_pins_a: sdmmc2-d47-sleep-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 0, ANALOG)>, /* SDMMC2_D4 */
+				 <STM32_PINMUX('B', 9, ANALOG)>, /* SDMMC2_D5 */
+				 <STM32_PINMUX('C', 6, ANALOG)>, /* SDMMC2_D6 */
+				 <STM32_PINMUX('C', 7, ANALOG)>; /* SDMMC2_D7 */
+		};
+	};
+};
+
+/ {
+	model = "STM32MP13xxAE TCU v1.0";
+	compatible = "st,stm32mp13xxae-tcu", "st,stm32mp135";
+
+	aliases {
+		serial0 = &uart4;
+	};
+
+	chosen {
+		stdout-path = "serial0:115200n8";
+		#address-cells = <1>;
+		#size-cells = <1>;
+		ranges;
+
+		framebuffer {
+			compatible = "simple-framebuffer";
+			clocks = <&rcc LTDC_PX>;
+			status = "disabled";
+		};
+	};
+	
+	/*
+	clocks {
+		clk_ext_camera: clk-ext-camera {
+			#clock-cells = <0>;
+			compatible = "fixed-clock";
+			clock-frequency = <24000000>;
+		};
+
+		clk_mco1: clk-mco1 {
+			#clock-cells = <0>;
+			compatible = "fixed-clock";
+			clock-frequency = <24000000>;
+		};
+	};*/
+
+	memory@c0000000 {
+		device_type = "memory";
+		reg = <0xc0000000 0x20000000>;
+	};
+
+	reserved-memory {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		ranges;
+
+		optee@dd000000 {
+			reg = <0xdd000000 0x3000000>;
+			no-map;
+		};
+	};
+
+	/*
+	gpio-keys {
+		compatible = "gpio-keys";
+
+		user-pa13 {
+			label = "User-PA13";
+			linux,code = <BTN_1>;
+			gpios = <&gpioa 13 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
+		};
+	};*/
+
+	leds {
+		compatible = "gpio-leds";
+
+		led-blue {
+			function = LED_FUNCTION_HEARTBEAT;
+			color = <LED_COLOR_ID_BLUE>;
+			gpios = <&gpioa 14 GPIO_ACTIVE_LOW>;
+			linux,default-trigger = "heartbeat";
+			default-state = "off";
+		};
+	};
+
+	vdd: vdd {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	vdd_usb: vdd_usb {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd_usb";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	vdd_adc: vdd_adc {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd_adc";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	/*
+	wake_up {
+		compatible = "gpio-keys";
+		status = "okay";
+
+		button {
+			label = "wake-up";
+			linux,code = <KEY_WAKEUP>;
+			interrupts-extended = <&optee 0>;
+			status = "okay";
+		};
+	};*/
+};
+
+&adc_1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&adc1_usb_cc_pins_a>;
+	vdda-supply = <&vdd_adc>;
+	vref-supply = <&vdd_adc>;
+	status = "okay";
+	/*
+	adc1: adc@0 {
+		status = "okay";
+		channel@6 {
+			reg = <6>;
+			st,min-sample-time-ns = <5000>;
+		};
+		channel@12 {
+			reg = <12>;
+			st,min-sample-time-ns = <5000>;
+		};
+	};*/
+};
+
+&arm_wdt {
+	timeout-sec = <32>;
+	status = "okay";
+};
+
+&crc1 {
+	status = "okay";
+};
+
+&cryp {
+	status = "okay";
+};
+
+&dcmipp {
+	status = "okay";
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&dcmipp_pins_a>;
+	pinctrl-1 = <&dcmipp_sleep_pins_a>;
+};
+
+&dts {
+	status = "okay";
+};
+
+&i2c1 {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&i2c1_pins_a>;
+	pinctrl-1 = <&i2c1_sleep_pins_a>;
+	i2c-scl-rising-time-ns = <96>;
+	i2c-scl-falling-time-ns = <3>;
+	clock-frequency = <400000>;
+	status = "okay";
+	/* spare dmas for other usage */
+	/delete-property/dmas;
+	/delete-property/dma-names;
+};
+
+&i2c5 {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&i2c5_pins_a>;
+	pinctrl-1 = <&i2c5_sleep_pins_a>;
+	i2c-scl-rising-time-ns = <170>;
+	i2c-scl-falling-time-ns = <5>;
+	clock-frequency = <400000>;
+	status = "okay";
+	/* spare dmas for other usage */
+	/delete-property/dmas;
+	/delete-property/dma-names;
+};
+
+&ltdc {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&ltdc_pins_a>;
+	pinctrl-1 = <&ltdc_sleep_pins_a>;
+	status = "okay";
+};
+
+&rtc {
+	st,lsco = <RTC_OUT2_RMP>;
+	pinctrl-0 = <&rtc_out2_rmp_pins_a>;
+	pinctrl-names = "default";
+	status = "okay";
+};
+
+&sdmmc1 {
+	pinctrl-names = "default", "opendrain", "sleep";
+	pinctrl-0 = <&sdmmc1_b4_pins_a &sdmmc1_clk_pins_a>;
+	pinctrl-1 = <&sdmmc1_b4_od_pins_a &sdmmc1_clk_pins_a>;
+	pinctrl-2 = <&sdmmc1_b4_sleep_pins_a>;
+	cd-gpios = <&gpioa 6 (GPIO_ACTIVE_LOW | GPIO_PULL_UP)>;
+	disable-wp;
+	st,neg-edge;
+	bus-width = <4>;
+	vmmc-supply = <&vdd>;
+	status = "okay";
+};
+
+&sdmmc2 {
+	pinctrl-names = "default", "opendrain", "sleep";
+	pinctrl-0 = <&sdmmc2_b4_pins_a &sdmmc2_d47_pins_a>;
+	pinctrl-1 = <&sdmmc2_b4_od_pins_a &sdmmc2_d47_pins_a>;
+	pinctrl-2 = <&sdmmc2_b4_sleep_pins_a &sdmmc2_d47_sleep_pins_a>;
+	non-removable;
+	no-sd;
+	no-sdio;
+	st,neg-edge;
+	bus-width = <8>;
+	vmmc-supply = <&vdd>;
+	vqmmc-supply = <&vdd>;
+	mmc-ddr-3_3v;
+	status = "okay";
+};
+
+&spi5 {
+	pinctrl-names = "default", "sleep";
+	pinctrl-0 = <&spi5_pins_a>;
+	pinctrl-1 = <&spi5_sleep_pins_a>;
+	status = "disabled";
+};
+
+&timers3 {
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm3_pins_a>;
+		pinctrl-1 = <&pwm3_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@2 {
+		status = "okay";
+	};
+};
+
+&timers4 {
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm4_pins_a>;
+		pinctrl-1 = <&pwm4_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@3 {
+		status = "okay";
+	};
+};
+
+&timers8 {
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm8_pins_a>;
+		pinctrl-1 = <&pwm8_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@7 {
+		status = "okay";
+	};
+};
+
+&timers14 {
+	status = "disabled";
+	pwm {
+		pinctrl-0 = <&pwm14_pins_a>;
+		pinctrl-1 = <&pwm14_sleep_pins_a>;
+		pinctrl-names = "default", "sleep";
+		status = "okay";
+	};
+	timer@13 {
+		status = "okay";
+	};
+};
+
+&uart4 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&uart4_pins_a>;
+	pinctrl-1 = <&uart4_sleep_pins_a>;
+	pinctrl-2 = <&uart4_idle_pins_a>;
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "okay";
+};
+
+&uart8 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&uart8_pins_a>;
+	pinctrl-1 = <&uart8_sleep_pins_a>;
+	pinctrl-2 = <&uart8_idle_pins_a>;
+	/delete-property/dmas;
+	/delete-property/dma-names;
+	status = "disabled";
+};
+
+&usart1 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&usart1_pins_a>;
+	pinctrl-1 = <&usart1_sleep_pins_a>;
+	pinctrl-2 = <&usart1_idle_pins_a>;
+	uart-has-rtscts;
+	status = "disabled";
+};
+
+&usart2 {
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&usart2_pins_a>;
+	pinctrl-1 = <&usart2_sleep_pins_a>;
+	pinctrl-2 = <&usart2_idle_pins_a>;
+	uart-has-rtscts;
+	status = "okay";
+};
+
+&usbh_ehci {
+	phys = <&usbphyc_port0>;
+	status = "okay";
+	#address-cells = <1>;
+	#size-cells = <0>;
+};
+
+&usbotg_hs {
+	phys = <&usbphyc_port1 0>;
+	phy-names = "usb2-phy";
+	usb-role-switch;
+	/* Force device mode for stable ADB gadget */
+	dr_mode = "peripheral";
+	/* Limit to high-speed for better interoperability */
+	maximum-speed = "high-speed";
+	/* Increase gadget FIFO sizes (32-bit words) to avoid endpoint timeouts */
+	g-rx-fifo-size = <256>;
+	g-np-tx-fifo-size = <128>;
+	g-tx-fifo-size = <256>;
+	/* Disable low-power and suspend/resume quirks that may freeze endpoints */
+	snps,dis_enblslpm_quirk;
+	snps,dis_u2_susphy_quirk;
+	snps,dis-suspend-resume-quirk;
+	status = "okay";
+};
+
+&usbphyc {
+	status = "okay";
+};
+
+&usbphyc_port0 {
+	phy-supply = <&vdd_usb>;
+	st,current-boost-microamp = <1000>;
+	st,decrease-hs-slew-rate;
+	st,tune-hs-dc-level = <2>;
+	st,enable-hs-rftime-reduction;
+	st,trim-hs-current = <11>;
+	st,trim-hs-impedance = <2>;
+	st,tune-squelch-level = <1>;
+	st,enable-hs-rx-gain-eq;
+	st,no-hs-ftime-ctrl;
+	st,no-lsfs-sc;
+};
+
+&usbphyc_port1 {
+	phy-supply = <&vdd_usb>;
+	st,current-boost-microamp = <1000>;
+	st,decrease-hs-slew-rate;
+	st,tune-hs-dc-level = <2>;
+	st,enable-hs-rftime-reduction;
+	st,trim-hs-current = <11>;
+	st,trim-hs-impedance = <2>;
+	st,tune-squelch-level = <1>;
+	st,enable-hs-rx-gain-eq;
+	st,no-hs-ftime-ctrl;
+	st,no-lsfs-sc;
+};
diff --git a/meta-st-stm32mp/recipes-kernel/linux/linux-stm32mp_6.6.bb b/meta-st-stm32mp/recipes-kernel/linux/linux-stm32mp_6.6.bb
index 3a243e3a..b0889c87 100644
--- a/meta-st-stm32mp/recipes-kernel/linux/linux-stm32mp_6.6.bb
+++ b/meta-st-stm32mp/recipes-kernel/linux/linux-stm32mp_6.6.bb
@@ -38,7 +38,7 @@ S = "${WORKDIR}/${LINUX_TARBASE}"
 BBCLASSEXTEND = "devupstream:target"
 
 SRC_URI:class-devupstream = "git://github.com/STMicroelectronics/linux.git;protocol=https;branch=${ARCHIVER_ST_BRANCH}"
-SRCREV:class-devupstream = "f01241fbba4d879fa770685629b49d42e904e43c"
+SRCREV:class-devupstream = "57d6654e68728d6b6776e688a0f8ece6ecfc1209"
 #FIXME force the PV to avoid build issue:
 #  do_package: ExpansionError('SRCPV', '${@bb.fetch2.get_srcrev(d)}', FetchError('SRCREV was used yet no valid SCM was found in SRC_URI', None))
 PV:class-devupstream = "${LINUX_VERSION}${LINUX_SUBVERSION}-${LINUX_TARGET}.${SRCPV}"
diff --git a/meta-st-stm32mp/recipes-kernel/linux/linux-stm32mp_6.6.bbappend b/meta-st-stm32mp/recipes-kernel/linux/linux-stm32mp_6.6.bbappend
new file mode 100644
index 00000000..4a0d3755
--- /dev/null
+++ b/meta-st-stm32mp/recipes-kernel/linux/linux-stm32mp_6.6.bbappend
@@ -0,0 +1,35 @@
+# Adding file device tree to kernel source
+FILESEXTRAPATHS:prepend := "${THISDIR}/files:"
+
+SRC_URI += " \
+     file://add-stm32mp13xxae-tcu-kernel.patch \
+     "
+SRC_URI:class-devupstream += " \
+     file://add-stm32mp13xxae-tcu-kernel.patch \
+     "
+
+# Adding TCU Device tree
+SRC_URI += "file://stm32mp13xxae-tcu.dts"
+SRC_URI:class-devupstream += "file://stm32mp13xxae-tcu.dts"
+SRC_URI += "file://stm32mp13xxae-tcu-a7-examples.dts"
+SRC_URI:class-devupstream += "file://stm32mp13xxae-tcu-a7-examples.dts"
+
+# Copy file device tree to kernel source and update Makefile
+do_configure:prepend() {
+    # Copy all files device tree to folder dts/st
+    install -d ${S}/arch/arm/boot/dts/st
+    
+    # TCU Device tree
+    install -m 0644 ${WORKDIR}/stm32mp13xxae-tcu.dts ${S}/arch/arm/boot/dts/st/
+    install -m 0644 ${WORKDIR}/stm32mp13xxae-tcu-a7-examples.dts ${S}/arch/arm/boot/dts/st/
+    
+    # Adding all entry to Makefile of device tree
+    if [ -f ${S}/arch/arm/boot/dts/st/Makefile ]; then
+        if ! grep -q "stm32mp13xxae-tcu.dtb" ${S}/arch/arm/boot/dts/st/Makefile; then
+            sed -i '/^dtb-\$(TARGET_ARM32) +=/a\\tstm32mp13xxae-tcu.dtb \\' ${S}/arch/arm/boot/dts/st/Makefile
+        fi
+        if ! grep -q "stm32mp13xxae-tcu-a7-examples.dtb" ${S}/arch/arm/boot/dts/st/Makefile; then
+            sed -i '/^dtb-\$(TARGET_ARM32) +=/a\\tstm32mp13xxae-tcu-a7-examples.dtb \\' ${S}/arch/arm/boot/dts/st/Makefile
+        fi
+    fi
+}
\ No newline at end of file
diff --git a/meta-st-stm32mp/recipes-security/optee/files/add-stm32mp13xxae-tcu-optee.patch b/meta-st-stm32mp/recipes-security/optee/files/add-stm32mp13xxae-tcu-optee.patch
new file mode 100644
index 00000000..9535ff7d
--- /dev/null
+++ b/meta-st-stm32mp/recipes-security/optee/files/add-stm32mp13xxae-tcu-optee.patch
@@ -0,0 +1,544 @@
+diff --git a/core/arch/arm/dts/stm32mp131dae-onekiwi.dts b/core/arch/arm/dts/stm32mp131dae-onekiwi.dts
+new file mode 100644
+index 000000000..530bdf074
+--- /dev/null
++++ b/core/arch/arm/dts/stm32mp131dae-onekiwi.dts
+@@ -0,0 +1,506 @@
++// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
++/*
++ * Copyright (C) STMicroelectronics 2021-2023 - All Rights Reserved
++ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
++ */
++
++/dts-v1/;
++
++#include <dt-bindings/clock/stm32mp13-clksrc.h>
++#include <dt-bindings/gpio/gpio.h>
++#include <dt-bindings/gpio/stm32mp_gpio.h>
++#include <dt-bindings/mfd/st,stpmic1.h>
++#include <dt-bindings/power/stm32mp1-power.h>
++#include <dt-bindings/regulator/st,stm32mp13-regulator.h>
++#include <dt-bindings/soc/stm32mp-provisioning.h>
++#include <dt-bindings/soc/stm32mp-tzc400-macro.h>
++#include <dt-bindings/soc/stm32mp13-tzc400.h>
++#include <dt-bindings/tamper/st,stm32mp13-tamp.h>
++#include "stm32mp131.dtsi"
++#include "stm32mp13xd.dtsi"
++#include "stm32mp13-pinctrl.dtsi"
++
++&pinctrl {
++	i2c4_pins_b: i2c4-1 {
++		pins {
++			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
++				 <STM32_PINMUX('B', 7, AF6)>; /* I2C4_SDA */
++			bias-disable;
++			drive-open-drain;
++			slew-rate = <0>;
++		};
++	};
++
++	i2c4_sleep_pins_b: i2c4-sleep-1 {
++		pins {
++			pinmux = <STM32_PINMUX('E', 15, ANALOG)>, /* I2C4_SCL */
++				 <STM32_PINMUX('B', 7, ANALOG)>; /* I2C4_SDA */
++		};
++	};
++};
++
++/ {
++	model = "OneKiwi STM32MP131DAE SOM v1.1";
++	compatible = "st,stm32mp131dae-onekiwi", "st,stm32mp131";
++
++	aliases {
++		serial0 = &uart4;
++	};
++
++	chosen {
++		stdout-path = "serial0:115200n8";
++	};
++
++	magic_wol: magic_wol {
++		compatible = "st,stm32mp1-pwr-irq-user";
++		wakeup-parent = <&pwr_irq>;
++		st,wakeup-pin-number = <2>;
++		status = "okay";
++	};
++
++	memory@c0000000 {
++		device_type = "memory";
++		reg = <0xc0000000 0x20000000>;
++	};
++
++	reserved-memory {
++		#address-cells = <1>;
++		#size-cells = <1>;
++		ranges;
++
++		optee_framebuffer: optee-framebuffer@dd000000 {
++			/* Secure framebuffer memory */
++			reg = <0xdd000000 0x1000000>;
++			st,protreg = <TZC_REGION_S_RDWR 0>;
++		};
++	};
++
++	shadow-prov {
++		compatible = "st,provisioning";
++		hw2_prov {
++			nvmem-cells = <&hw2_otp>;
++			st,shadow-value = <0x000001E0>;
++			st,shadow-lock = <STICKY_LOCK_SR>;
++		};
++	};
++
++	typec_wakeup: typec_wakeup {
++		compatible = "st,stm32mp1-pwr-irq-user";
++		wakeup-parent = <&pwr_irq>;
++		st,wakeup-pin-number = <5>;
++		st,notif-it-id = <1>;
++		status = "okay";
++	};
++
++	vddcpu: vddcpu {
++		compatible = "regulator-fixed";
++		regulator-name = "vddcpu";
++		regulator-min-microvolt = <1350000>;
++		regulator-max-microvolt = <1350000>;
++		regulator-always-on;
++	};
++	
++	vdd_usb: vdd_usb {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd_usb";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++
++	vdd: vdd {
++		compatible = "regulator-fixed";
++		regulator-name = "vdd";
++		regulator-min-microvolt = <3300000>;
++		regulator-max-microvolt = <3300000>;
++		regulator-always-on;
++	};
++};
++/*
++&adc_2 {
++	vdda-supply = <&vdd_adc>;
++	vref-supply = <&vdd_adc>;
++	status = "okay";
++
++	adc2: adc@0 {
++		status = "okay";
++
++		channel@15 {
++			reg = <15>;
++			label = "vbat";
++		};
++	};
++};*/
++
++&bsec {
++	board_id: board_id@f0 {
++		reg = <0xf0 0x4>;
++		st,non-secure-otp;
++	};
++};
++
++&cpu0 {
++	cpu-supply = <&vddcpu>;
++};
++
++/*
++&etzpc {
++	st,decprot = <
++		DECPROT(STM32MP1_ETZPC_BKPSRAM_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_CRYP_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_DCMIPP_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_DDRCTRLPHY_ID, DECPROT_NS_R_S_W, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_ETH1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_ETH2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_FMC_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_HASH_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_I2C3_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_I2C4_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_I2C5_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_IWDG1_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_LPTIM2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_LPTIM3_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_MCE_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_OTG_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_PKA_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_QSPI_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_RNG_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SAES_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SDMMC1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SDMMC2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SPI4_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SPI5_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SRAM1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SRAM2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_SRAM3_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_STGENC_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_TIM12_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_TIM13_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_TIM14_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_TIM15_ID, DECPROT_S_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_TIM16_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_TIM17_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_USART1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_USART2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_USBPHYCTRL_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++		DECPROT(STM32MP1_ETZPC_VREFBUF_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
++	>;
++};*/
++
++/*
++&gpioa {
++	st,protreg = < (TZPROT(6)) >;
++};
++
++&gpiob {
++	st,protreg = < (TZPROT(9)) >;
++};
++
++&gpiod {
++	st,protreg = < (TZPROT(7)) >;
++};
++
++&gpioe {
++	st,protreg = < (TZPROT(15)) >;
++};
++
++&gpiof {
++	st,protreg = < (TZPROT(8)) >;
++};
++
++&gpioi {
++	st,protreg = < (TZPROT(2) | TZPROT(3)) >;
++};*/
++
++&hash {
++	status = "okay";
++};
++
++&hse_monitor {
++	status = "okay";
++};
++
++&i2c4 {
++	pinctrl-names = "default";
++	pinctrl-0 = <&i2c4_pins_b>;
++	i2c-scl-rising-time-ns = <185>;
++	i2c-scl-falling-time-ns = <20>;
++	clock-frequency = <400000>;
++	status = "okay";
++};
++
++&iwdg1 {
++	timeout-sec = <32>;
++	status = "okay";
++};
++
++&lptimer3 {
++	status = "okay";
++
++	counter {
++		status = "okay";
++	};
++};
++
++&oem_enc_key {
++	st,non-secure-otp-provisioning;
++};
++
++&osc_calibration {
++	csi-calibration {
++		status = "okay";
++	};
++
++	hsi-calibration {
++		status = "okay";
++	};
++};
++
++&pwr_irq {
++	status = "okay";
++	wakeup-gpios = <&gpiof 8 GPIO_ACTIVE_HIGH>, <&gpioi 3 GPIO_ACTIVE_HIGH>, <0>, <0>, <&gpioi 2 GPIO_PULL_UP>, <0>;
++};
++
++&pwr_regulators {
++	system_suspend_supported_soc_modes = <
++		STM32_PM_CSLEEP_RUN
++		STM32_PM_CSTOP_ALLOW_LP_STOP
++		STM32_PM_CSTOP_ALLOW_LPLV_STOP
++		STM32_PM_CSTOP_ALLOW_LPLV_STOP2
++		STM32_PM_CSTOP_ALLOW_STANDBY_DDR_SR
++	>;
++
++	system_off_soc_mode = <STM32_PM_SHUTDOWN>;
++	vdd-supply = <&vdd>;
++	vdd_3v3_usbfs-supply = <&vdd_usb>;
++};
++
++&rcc {
++	st,clksrc = <
++		CLK_MPU_PLL1P
++		CLK_AXI_PLL2P
++		CLK_MLAHBS_PLL3
++		CLK_RTC_LSE
++		CLK_MCO1_HSE
++		CLK_MCO2_DISABLED
++		CLK_CKPER_HSE
++		CLK_ETH1_PLL4P
++		CLK_ETH2_PLL4P
++		CLK_SDMMC1_PLL4P
++		CLK_SDMMC2_PLL4P
++		CLK_STGEN_HSE
++		CLK_USBPHY_HSE
++		CLK_I2C4_HSI
++		CLK_I2C5_HSI
++		CLK_USBO_USBPHY
++		CLK_ADC2_CKPER
++		CLK_I2C12_HSI
++		CLK_UART1_HSI
++		CLK_UART2_HSI
++		CLK_UART35_HSI
++		CLK_UART4_HSI
++		CLK_UART6_HSI
++		CLK_UART78_HSI
++		CLK_SAES_AXI
++		CLK_DCMIPP_PLL2Q
++		CLK_LPTIM3_PCLK3
++		CLK_RNG1_PLL4R
++	>;
++
++	st,clkdiv = <
++		DIV(DIV_MPU, 1)
++		DIV(DIV_AXI, 0)
++		DIV(DIV_MLAHB, 0)
++		DIV(DIV_APB1, 1)
++		DIV(DIV_APB2, 1)
++		DIV(DIV_APB3, 1)
++		DIV(DIV_APB4, 1)
++		DIV(DIV_APB5, 2)
++		DIV(DIV_APB6, 1)
++		DIV(DIV_RTC, 0)
++		DIV(DIV_MCO1, 0)
++		DIV(DIV_MCO2, 0)
++	>;
++
++	st,pll_vco {
++		pll1_vco_2000Mhz: pll1-vco-2000Mhz {
++			src = <CLK_PLL12_HSE>;
++			divmn = <1 82>;
++			frac = <0xAAA>;
++		};
++
++		pll1_vco_1800Mhz: pll1-vco-1800Mhz {
++			src = <CLK_PLL12_HSE>;
++			divmn = <1 74>;
++			frac = <0>;
++		};
++
++		pll1_vco_1300Mhz: pll1-vco-1300Mhz {
++			src = <CLK_PLL12_HSE>;
++			divmn = <2 80>;
++			frac = <0x800>;
++		};
++
++		pll2_vco_1066Mhz: pll2-vco-1066Mhz {
++			src = <CLK_PLL12_HSE>;
++			divmn = <2 65>;
++			frac = <0x1400>;
++		};
++
++		pll3_vco_417Mhz: pll3-vco-417Mhz {
++			src = <CLK_PLL3_HSE>;
++			divmn = <1 33>;
++			frac = <0x1a04>;
++		};
++
++		pll4_vco_600Mhz: pll4-vco-600Mhz {
++			src = <CLK_PLL4_HSE>;
++			divmn = <1 49>;
++		};
++	};
++
++	pll1: st,pll@0 {
++		compatible = "st,stm32mp1-pll";
++		reg = <0>;
++
++		st,pll = <&pll1_cfg1>;
++
++		/* VCO = 1300.0 MHz => P = 650 (CPU) */
++		pll1_cfg1: pll1_cfg1 {
++			st,pll_vco = <&pll1_vco_1300Mhz>;
++			st,pll_div_pqr = <0 1 1>;
++		};
++
++		/* VCO = 2000.0 MHz => P = 1000 (CPU) */
++		pll1_cfg2: pll1_cfg2 {
++			st,pll_vco = <&pll1_vco_2000Mhz>;
++			st,pll_div_pqr = <0 1 1>;
++		};
++
++		/* VCO = 1800.0 MHz => P = 900 (CPU) */
++		pll1_cfg3: pll1_cfg3 {
++			st,pll_vco = <&pll1_vco_1800Mhz>;
++			st,pll_div_pqr = <0 1 1>;
++		};
++	};
++
++	/* VCO = 1066.0 MHz => P = 266 (AXI), Q = 266, R = 533 (DDR) */
++	pll2: st,pll@1 {
++		compatible = "st,stm32mp1-pll";
++		reg = <1>;
++
++		st,pll = <&pll2_cfg1>;
++
++		pll2_cfg1: pll2_cfg1 {
++			st,pll_vco = <&pll2_vco_1066Mhz>;
++			st,pll_div_pqr = <1 1 0>;
++		};
++	};
++
++	/* VCO = 417.8 MHz => P = 209, Q = 24, R = 11 */
++	pll3: st,pll@2 {
++		compatible = "st,stm32mp1-pll";
++		reg = <2>;
++
++		st,pll = <&pll3_cfg1>;
++
++		pll3_cfg1: pll3_cfg1 {
++			st,pll_vco = <&pll3_vco_417Mhz>;
++			st,pll_div_pqr = <1 16 36>;
++		};
++	};
++
++	/* VCO = 600.0 MHz => P = 50, Q = 10, R = 50 */
++	pll4: st,pll@3 {
++		compatible = "st,stm32mp1-pll";
++		reg = <3>;
++		st,pll = <&pll4_cfg1>;
++
++		pll4_cfg1: pll4_cfg1 {
++			st,pll_vco = <&pll4_vco_600Mhz>;
++			st,pll_div_pqr = <11 59 11>;
++		};
++	};
++
++	st,clk_opp {
++		/* CK_MPU clock config for MP13 */
++		st,ck_mpu {
++			cfg_1 {
++				hz = <650000000>;
++				st,clksrc = <CLK_MPU_PLL1P>;
++				st,pll = <&pll1_cfg1>;
++			};
++
++			cfg_2 {
++				hz = <1000000000>;
++				st,clksrc = <CLK_MPU_PLL1P>;
++				st,pll = <&pll1_cfg2>;
++			};
++
++			cfg_3 {
++				hz = <900000000>;
++				st,clksrc = <CLK_MPU_PLL1P>;
++				st,pll = <&pll1_cfg3>;
++			};
++		};
++	};
++
++	st,rcc {
++		compatible = "st,rcc";
++		pinctrl-0 = <&rcc_mco_pins_a>;
++	};
++};
++
++&rng {
++	status = "okay";
++	clock-error-detect;
++};
++
++&sdmmc1_io {
++	vddsd1-supply = <&vdd>;
++};
++
++&sdmmc2_io {
++	vddsd2-supply = <&vdd>;
++};
++
++&tamp {
++	st,tamp-passive-nb-sample = <4>;
++	st,tamp-passive-sample-clk-div = <16384>;
++	wakeup-source;
++	wakeup-parent = <&exti>;
++
++	/* Tamper button */
++	tamp-button {
++		tamper-gpios = <&gpioa 6 0>;
++		st,tamp-mode = <TAMPER_CONFIRMED_MODE>;
++		st,tamp-id = <2>;
++		status = "okay";
++	};
++
++	/* Connect pin8 and pin22 from CN8 */
++	tamp-active {
++		tamper-gpios = <&gpioc 0 0>, <&gpioi 0 0>;
++		st,tamp-mode = <TAMPER_CONFIRMED_MODE>;
++		st,tamp-id = <3>, <1>;
++		status = "disabled";
++	};
++};
++
++&timers12 {
++	status = "okay";
++
++	counter {
++		status = "okay";
++	};
++};
++
++&tzc400 {
++	memory-region = <&optee_framebuffer>;
++};
++
++&uart4 {
++	pinctrl-names = "default";
++	pinctrl-0 = <&uart4_pins_a>;
++	status = "okay";
++};
+diff --git a/core/arch/arm/plat-stm32mp1/conf.mk b/core/arch/arm/plat-stm32mp1/conf.mk
+index 2600f51c2..ac2037d52 100644
+--- a/core/arch/arm/plat-stm32mp1/conf.mk
++++ b/core/arch/arm/plat-stm32mp1/conf.mk
+@@ -15,13 +15,16 @@ flavor_dts_file-157F_ED1 = stm32mp157f-ed1.dts
+ flavor_dts_file-157F_EV1 = stm32mp157f-ev1.dts
+ 
+ flavor_dts_file-135F_DK = stm32mp135f-dk.dts
++flavor_dts_file-131DAE_ONEKIWI = stm32mp131dae-onekiwi.dts
+ 
+ flavorlist-cryp-512M = $(flavor_dts_file-157C_DK2) \
+ 		       $(flavor_dts_file-157F_DK2) \
++			   $(flavor_dts_file-131DAE_ONEKIWI) \
+ 		       $(flavor_dts_file-135F_DK)
+ 
+ flavorlist-no_cryp-512M = $(flavor_dts_file-157A_DK1) \
+-			  $(flavor_dts_file-157D_DK1)
++			  $(flavor_dts_file-157D_DK1) \
++			  $(flavor_dts_file-131DAE_ONEKIWI)
+ 
+ flavorlist-cryp-1G = $(flavor_dts_file-157C_DHCOM_PDK2) \
+ 		     $(flavor_dts_file-157C_ED1) \
+@@ -59,7 +62,8 @@ flavorlist-MP15 = $(flavor_dts_file-157A_DHCOR_AVENGER96) \
+ 		  $(flavor_dts_file-157F_ED1) \
+ 		  $(flavor_dts_file-157F_EV1)
+ 
+-flavorlist-MP13 = $(flavor_dts_file-135F_DK)
++flavorlist-MP13 = $(flavor_dts_file-135F_DK) \
++			   $(flavor_dts_file-131DAE_ONEKIWI)
+ 
+ # External device tree default path
+ CFG_EXT_DTS ?= $(arch-dir)/dts/external-dt/optee
diff --git a/meta-st-stm32mp/recipes-security/optee/files/stm32mp13-pinctrl.dtsi b/meta-st-stm32mp/recipes-security/optee/files/stm32mp13-pinctrl.dtsi
new file mode 100644
index 00000000..ef16a16c
--- /dev/null
+++ b/meta-st-stm32mp/recipes-security/optee/files/stm32mp13-pinctrl.dtsi
@@ -0,0 +1,148 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) STMicroelectronics 2019-2022 - All Rights Reserved
+ * Author: Alexandre Torgue <alexandre.torgue@st.com>
+ */
+#include <dt-bindings/pinctrl/stm32-pinfunc.h>
+
+&pinctrl {
+	i2c4_pins_a: i2c4-0 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
+				 <STM32_PINMUX('B', 9, AF6)>; /* I2C4_SDA */
+			bias-disable;
+			drive-open-drain;
+			slew-rate = <0>;
+		};
+	};
+
+	ltdc_pins_a: ltdc-0 {
+		pins {
+			pinmux = <STM32_PINMUX('D',  9, AF13)>, /* LCD_CLK */
+				 <STM32_PINMUX('C',  6, AF14)>, /* LCD_HSYNC */
+				 <STM32_PINMUX('G',  4, AF11)>, /* LCD_VSYNC */
+				 <STM32_PINMUX('H',  9, AF11)>, /* LCD_DE */
+				 <STM32_PINMUX('G',  7, AF14)>, /* LCD_R2 */
+				 <STM32_PINMUX('B', 12, AF13)>, /* LCD_R3 */
+				 <STM32_PINMUX('D', 14, AF14)>, /* LCD_R4 */
+				 <STM32_PINMUX('E',  7, AF14)>, /* LCD_R5 */
+				 <STM32_PINMUX('E', 13, AF14)>, /* LCD_R6 */
+				 <STM32_PINMUX('E',  9, AF14)>, /* LCD_R7 */
+				 <STM32_PINMUX('H', 13, AF14)>, /* LCD_G2 */
+				 <STM32_PINMUX('F',  3, AF14)>, /* LCD_G3 */
+				 <STM32_PINMUX('D',  5, AF14)>, /* LCD_G4 */
+				 <STM32_PINMUX('G',  0, AF14)>, /* LCD_G5 */
+				 <STM32_PINMUX('C',  7, AF14)>, /* LCD_G6 */
+				 <STM32_PINMUX('A', 15, AF11)>, /* LCD_G7 */
+				 <STM32_PINMUX('D', 10, AF14)>, /* LCD_B2 */
+				 <STM32_PINMUX('F',  2, AF14)>, /* LCD_B3 */
+				 <STM32_PINMUX('H', 14, AF11)>, /* LCD_B4 */
+				 <STM32_PINMUX('E',  0, AF14)>, /* LCD_B5 */
+				 <STM32_PINMUX('B',  6, AF7)>,  /* LCD_B6 */
+				 <STM32_PINMUX('F',  1, AF13)>; /* LCD_B7 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	rcc_mco_pins_a: rcc-pins-0 {
+		pins {
+			pinmux = <STM32_PINMUX('D', 7, AF0)>; /* RCC_MCO_1 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <1>;
+		};
+	};
+
+	tamp0_in1_pin_a: tamp0_in1_pin_0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 10, RSVD)>;
+			st,tamp_id = <1>;
+		};
+	};
+
+	tamp0_in2_pin_a: tamp0_in2_pin_0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 6, RSVD)>;
+			st,tamp_id = <2>;
+		};
+	};
+
+	tamp0_in3_pin_a: tamp0_in3_pin_0 {
+		pins {
+			pinmux = <STM32_PINMUX('C', 0, RSVD)>;
+			st,tamp_id = <3>;
+		};
+	};
+
+	tamp0_in5_pin_a: tamp0_in5_pin_0 {
+		pins {
+			pinmux = <STM32_PINMUX('C', 3, RSVD)>;
+			st,tamp_id = <5>;
+		};
+	};
+
+	tamp0_in8_pin_a: tamp0_in8_pin_0 {
+		pins {
+			pinmux = <STM32_PINMUX('I', 0, RSVD)>;
+			st,tamp_id = <8>;
+		};
+	};
+
+	tamp0_out1_pin_a: tamp0_out1_pin_0 {
+		pins {
+			pinmux = <STM32_PINMUX('I', 0, RSVD)>;
+			st,tamp_id = <1>;
+		};
+	};
+
+	uart4_pins_a: uart4-0 {
+		pins1 {
+			pinmux = <STM32_PINMUX('D', 6, AF8)>; /* UART4_TX */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+		pins2 {
+			pinmux = <STM32_PINMUX('D', 8, AF8)>; /* UART4_RX */
+			bias-disable;
+		};
+	};
+
+	usart1_pins_a: usart1-0 {
+		pins1 {
+			pinmux = <STM32_PINMUX('C', 0, AF7)>, /* USART1_TX */
+				 <STM32_PINMUX('C', 2, AF7)>; /* USART1_RTS */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+		pins2 {
+			pinmux = <STM32_PINMUX('B', 0, AF4)>, /* USART1_RX */
+				 <STM32_PINMUX('A', 7, AF7)>; /* USART1_CTS_NSS */
+			bias-pull-up;
+		};
+	};
+
+	wakeup_pins: wakeup_pins {
+		wakeup_pin_1: pins1 {
+			pinmux = <STM32_PINMUX('F', 8, GPIO)>;
+		};
+		wakeup_pin_2: pins2 {
+			pinmux = <STM32_PINMUX('I', 3, GPIO)>;
+		};
+		wakeup_pin_3: pins3 {
+			pinmux = <STM32_PINMUX('C', 13, GPIO)>;
+		};
+		wakeup_pin_4: pins4 {
+			pinmux = <STM32_PINMUX('I', 1, GPIO)>;
+		};
+		wakeup_pin_5: pins5 {
+			pinmux = <STM32_PINMUX('I', 2, GPIO)>;
+		};
+		wakeup_pin_6: pins6 {
+			pinmux = <STM32_PINMUX('A', 3, GPIO)>;
+		};
+	};
+};
diff --git a/meta-st-stm32mp/recipes-security/optee/files/stm32mp13xxae-tcu.dts b/meta-st-stm32mp/recipes-security/optee/files/stm32mp13xxae-tcu.dts
new file mode 100644
index 00000000..79551c77
--- /dev/null
+++ b/meta-st-stm32mp/recipes-security/optee/files/stm32mp13xxae-tcu.dts
@@ -0,0 +1,488 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) STMicroelectronics 2021-2022 - All Rights Reserved
+ * Author: Alexandre Torgue <alexandre.torgue@foss.st.com> for STMicroelectronics.
+ */
+
+/dts-v1/;
+
+#include <dt-bindings/clock/stm32mp13-clksrc.h>
+#include <dt-bindings/power/stm32mp1-power.h>	
+#include <dt-bindings/soc/stm32mp-tzc400-macro.h>
+#include <dt-bindings/soc/stm32mp13-etzpc.h>
+#include <dt-bindings/soc/stm32mp13-tzc400.h>
+#include <dt-bindings/pinctrl/stm32-pinfunc.h>
+#include "stm32mp135.dtsi"
+#include "stm32mp13xd.dtsi"
+#include "stm32mp13-pinctrl.dtsi"
+
+&pinctrl {
+	i2c4_pins_b: i2c4-1 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 15, AF6)>, /* I2C4_SCL */
+				 <STM32_PINMUX('B', 7, AF6)>; /* I2C4_SDA */
+			bias-disable;
+			drive-open-drain;
+			slew-rate = <0>;
+		};
+	};
+};
+
+/ {
+	model = "STM32MP13xxAE TCU v1.0";
+	compatible = "st,stm32mp13xxae-tcu", "st,stm32mp135";
+
+	cpu0-opp-table {
+		opp-1000000000 {
+			opp-hz = /bits/ 64 <1000000000>;
+			opp-microvolt = <1350000>;
+			opp-supported-hw = <0x2>;
+			st,opp-default;
+		};
+		/delete-node/ opp-650000000;
+	};
+
+	aliases {
+		serial0 = &uart4;
+	};
+
+	chosen {
+		stdout-path = "serial0:115200n8";
+	};
+
+	magic_wol: magic_wol {
+		compatible = "st,stm32mp1,pwr-irq-user";
+		st,wakeup-pin-number = <2>;
+		status = "okay";
+	};
+
+	memory@c0000000 {
+		device_type = "memory";
+		reg = <0xc0000000 0x20000000>;
+	};
+
+	reserved-memory {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		ranges;
+
+		optee@de000000 {
+			reg = <0xde000000 0x2000000>;
+			no-map;
+		};
+
+		optee_framebuffer: optee-framebuffer@dd000000 {
+			/* Secure framebuffer memory */
+			reg = <0xdd000000 0x1000000>;
+			st,protreg = <TZC_REGION_S_RDWR 0>;
+		};
+	};
+
+	vddcpu: vddcpu {
+		compatible = "regulator-fixed";
+		regulator-name = "vddcpu";
+		regulator-min-microvolt = <1350000>;
+		regulator-max-microvolt = <1350000>;
+		regulator-always-on;
+	};
+	
+	vdd_usb: vdd_usb {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd_usb";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	vdd: vdd {
+		compatible = "regulator-fixed";
+		regulator-name = "vdd";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+		regulator-always-on;
+	};
+
+	typec_wakeup: typec_wakeup {
+		compatible = "st,stm32mp1,pwr-irq-user";
+		/* Alert pin on PI2, wakeup_pin_5 */
+		st,wakeup-pin-number = <5>;
+		st,notif-it-id = <1>;
+		status = "okay";
+	};
+};
+
+&adc_2 {
+	status = "disabled";
+	secure-status = "disabled";
+};
+
+&bsec {
+	board_id: board_id@f0 {
+		reg = <0xf0 0x4>;
+		st,non-secure-otp;
+	};
+};
+
+&cpu0 {
+	cpu-supply = <&vddcpu>;
+};
+
+&etzpc {
+	st,decprot = <
+		DECPROT(STM32MP1_ETZPC_ADC1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_ADC2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_BKPSRAM_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_CRYP_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_DCMIPP_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_DDRCTRLPHY_ID, DECPROT_NS_R_S_W, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_ETH1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_ETH2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_FMC_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_HASH_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_I2C3_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_I2C4_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_I2C5_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_IWDG1_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_LPTIM2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_LPTIM3_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_LTDC_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_MCE_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_OTG_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_PKA_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_QSPI_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_RNG_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SAES_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SDMMC1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SDMMC2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SPI4_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SPI5_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SRAM1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SRAM2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_SRAM3_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_STGENC_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_TIM12_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_TIM13_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_TIM14_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_TIM15_ID, DECPROT_S_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_TIM16_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_TIM17_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_USART1_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_USART2_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_USBPHYCTRL_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+		DECPROT(STM32MP1_ETZPC_VREFBUF_ID, DECPROT_NS_RW, DECPROT_UNLOCK)
+	>;
+};
+
+/*
+&gpiob {
+	st,protreg = < (TZPROT(7)) >;
+};
+
+&gpiod {
+	st,protreg = < (TZPROT(7)) >;
+};
+
+&gpioe {
+	st,protreg = < (TZPROT(15)) >;
+};
+
+&gpioi {
+	st,protreg = < (TZPROT(2)|TZPROT(3)) >;
+};*/
+
+&hash {
+	status = "okay";
+};
+
+&hse_monitor {
+	status = "okay";
+};
+
+&i2c4 {
+	status = "disabled";
+	secure-status = "disabled";
+};
+
+&iwdg1 {
+	timeout-sec = <32>;
+	status = "okay";
+};
+
+&lptimer3 {
+	status = "okay";
+
+	counter {
+		status = "okay";
+	};
+};
+
+&ltdc {
+	status = "disabled";
+	secure-status = "disabled";
+};
+
+&oem_enc_key {
+	st,non-secure-otp-provisioning;
+};
+
+&osc_calibration {
+	csi-calibration {
+		status = "okay";
+	};
+
+	hsi-calibration {
+		status = "okay";
+	};
+};
+
+/*
+&pka {
+	status = "okay";
+};*/
+
+&pwr_irq {
+	pinctrl-names = "default";
+	pinctrl-0 = <&wakeup_pins>;
+	status = "okay";
+};
+
+&pwr_regulators {
+	system_suspend_supported_soc_modes = <
+		STM32_PM_CSLEEP_RUN
+		STM32_PM_CSTOP_ALLOW_LP_STOP
+		STM32_PM_CSTOP_ALLOW_LPLV_STOP
+		STM32_PM_CSTOP_ALLOW_LPLV_STOP2
+		STM32_PM_CSTOP_ALLOW_STANDBY_DDR_SR
+	>;
+
+	system_off_soc_mode = <STM32_PM_SHUTDOWN>;
+	vdd-supply = <&vdd>;
+	vdd_3v3_usbfs-supply = <&vdd_usb>;
+};
+
+&rcc {
+	compatible = "st,stm32mp13-rcc", "syscon", "st,stm32mp13-rcc-mco";
+	pinctrl-0 = <&rcc_mco_pins_a>;
+	pinctrl-names = "default";
+
+	st,clksrc = <
+		CLK_MPU_PLL1P
+		CLK_AXI_PLL2P
+		CLK_MLAHBS_PLL3
+		CLK_RTC_LSE
+		CLK_MCO1_HSE
+		CLK_MCO2_DISABLED
+		CLK_CKPER_HSE
+		CLK_ETH1_PLL4P
+		CLK_ETH2_PLL4P
+		CLK_SDMMC1_PLL4P
+		CLK_SDMMC2_PLL4P
+		CLK_STGEN_HSE
+		CLK_USBPHY_HSE
+		CLK_I2C4_HSI
+		CLK_I2C5_HSI
+		CLK_USBO_USBPHY
+		CLK_ADC2_CKPER
+		CLK_I2C12_HSI
+		CLK_UART1_HSI
+		CLK_UART2_HSI
+		CLK_UART35_HSI
+		CLK_UART4_HSI
+		CLK_UART6_HSI
+		CLK_UART78_HSI
+		CLK_SAES_AXI
+		CLK_DCMIPP_PLL2Q
+		CLK_LPTIM3_PCLK3
+		CLK_RNG1_PLL4R
+	>;
+
+	st,clkdiv = <
+		DIV(DIV_MPU, 1)
+		DIV(DIV_AXI, 0)
+		DIV(DIV_MLAHB, 0)
+		DIV(DIV_APB1, 1)
+		DIV(DIV_APB2, 1)
+		DIV(DIV_APB3, 1)
+		DIV(DIV_APB4, 1)
+		DIV(DIV_APB5, 2)
+		DIV(DIV_APB6, 1)
+		DIV(DIV_RTC, 0)
+		DIV(DIV_MCO1, 0)
+		DIV(DIV_MCO2, 0)
+	>;
+
+	st,pll_vco {
+		pll1_vco_2000Mhz: pll1-vco-2000Mhz {
+			src = <CLK_PLL12_HSE>;
+			divmn = <1 82>;
+			frac = <0xAAA>;
+		};
+
+		pll1_vco_1300Mhz: pll1-vco-1300Mhz {
+			src = <CLK_PLL12_HSE>;
+			divmn = <2 80>;
+			frac = <0x800>;
+		};
+
+		pll2_vco_1066Mhz: pll2-vco-1066Mhz {
+			src = <CLK_PLL12_HSE>;
+			divmn = <2 65>;
+			frac = <0x1400>;
+		};
+
+		pll3_vco_417Mhz: pll3-vco-417Mhz {
+			src = <CLK_PLL3_HSE>;
+			divmn = <1 33>;
+			frac = <0x1a04>;
+		};
+
+		pll4_vco_600Mhz: pll4-vco-600Mhz {
+			src = <CLK_PLL4_HSE>;
+			divmn = <1 49>;
+		};
+	};
+
+	/* VCO = 1300.0 MHz => P = 650 (CPU) */
+	pll1: st,pll@0 {
+		compatible = "st,stm32mp1-pll";
+		reg = <0>;
+
+		st,pll = <&pll1_cfg1>;
+
+		pll1_cfg1: pll1_cfg1 {
+			st,pll_vco = <&pll1_vco_1300Mhz>;
+			st,pll_div_pqr = <0 1 1>;
+		};
+
+		pll1_cfg2: pll1_cfg2 {
+			st,pll_vco = <&pll1_vco_2000Mhz>;
+			st,pll_div_pqr = <0 1 1>;
+		};
+	};
+
+	/* VCO = 1066.0 MHz => P = 266 (AXI), Q = 266, R = 533 (DDR) */
+	pll2: st,pll@1 {
+		compatible = "st,stm32mp1-pll";
+		reg = <1>;
+
+		st,pll = <&pll2_cfg1>;
+
+		pll2_cfg1: pll2_cfg1 {
+			st,pll_vco = <&pll2_vco_1066Mhz>;
+			st,pll_div_pqr = <1 1 0>;
+		};
+	};
+
+	/* VCO = 417.8 MHz => P = 209, Q = 24, R = 11 */
+	pll3: st,pll@2 {
+		compatible = "st,stm32mp1-pll";
+		reg = <2>;
+
+		st,pll = <&pll3_cfg1>;
+
+		pll3_cfg1: pll3_cfg1 {
+			st,pll_vco = <&pll3_vco_417Mhz>;
+			st,pll_div_pqr = <1 16 36>;
+		};
+	};
+
+	/* VCO = 600.0 MHz => P = 50, Q = 10, R = 50 */
+	pll4: st,pll@3 {
+		compatible = "st,stm32mp1-pll";
+		reg = <3>;
+		st,pll = <&pll4_cfg1>;
+
+		pll4_cfg1: pll4_cfg1 {
+			st,pll_vco = <&pll4_vco_600Mhz>;
+			st,pll_div_pqr = <11 59 11>;
+		};
+	};
+
+	st,clk_opp {
+		/* CK_MPU clock config for MP13 */
+		st,ck_mpu {
+
+			cfg_1 {
+				hz = <650000000>;
+				st,clksrc = <CLK_MPU_PLL1P>;
+				st,pll = <&pll1_cfg1>;
+			};
+
+			cfg_2 {
+				hz = <1000000000>;
+				st,clksrc = <CLK_MPU_PLL1P>;
+				st,pll = <&pll1_cfg2>;
+			};
+		};
+	};
+};
+
+&rng {
+	status = "okay";
+	clock-error-detect;
+	// st,rng-config = <RNG_CONFIG_NIST_B_ID>;
+};
+
+&rtc {
+	status = "okay";
+};
+
+/*
+&saes {
+	status = "okay";
+};*/
+
+&sdmmc1_io {
+	vddsd1-supply = <&vdd>;
+};
+
+&sdmmc2_io {
+	vddsd2-supply = <&vdd>;
+};
+
+&tamp {
+	status = "okay";
+	/*
+	st,tamp_passive_nb_sample = <4>;
+	st,tamp_passive_sample_clk_div = <16384>;
+
+	tamp_passive@2 {
+		pinctrl-0 = <&tamp0_in2_pin_a>;
+		status = "okay";
+	};
+
+	tamp_active@1 {
+		pinctrl-0 = <&tamp0_in3_pin_a &tamp0_out1_pin_a>;
+		status = "disabled";
+	};*/
+};
+
+&timers12 {
+	status = "okay";
+
+	counter {
+		status = "okay";
+	};
+};
+
+&tzc400 {
+	memory-region = <&optee_framebuffer>;
+};
+
+&uart4 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart4_pins_a>;
+	status = "okay";
+};
+
+&usart1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&usart1_pins_a>;
+	uart-has-rtscts;
+	status = "disabled";
+};
+
+&wakeup_pin_5 {
+	bias-pull-up;
+};
+
diff --git a/meta-st-stm32mp/recipes-security/optee/optee-os-stm32mp_4.0.0.bb b/meta-st-stm32mp/recipes-security/optee/optee-os-stm32mp_4.0.0.bb
index 896ec570..b6a5a4ed 100644
--- a/meta-st-stm32mp/recipes-security/optee/optee-os-stm32mp_4.0.0.bb
+++ b/meta-st-stm32mp/recipes-security/optee/optee-os-stm32mp_4.0.0.bb
@@ -51,7 +51,7 @@ include ${@oe.utils.ifelse(d.getVar('ST_ARCHIVER_ENABLE') == '1', 'optee-os-stm3
 BBCLASSEXTEND = "devupstream:target"
 
 SRC_URI:class-devupstream = "git://github.com/STMicroelectronics/optee_os.git;protocol=https;branch=${ARCHIVER_ST_BRANCH}"
-SRCREV:class-devupstream = "a8dd87d45831be900f0aaa44a5e0587269e3df25"
+SRCREV:class-devupstream = "dc74bac3cbb271e524cc55a8319327b59fa65e9c"
 
 # ---------------------------------
 # Configure default preference to manage dynamic selection between tarball and github
diff --git a/meta-st-stm32mp/recipes-security/optee/optee-os-stm32mp_4.0.0.bbappend b/meta-st-stm32mp/recipes-security/optee/optee-os-stm32mp_4.0.0.bbappend
new file mode 100644
index 00000000..5227dae5
--- /dev/null
+++ b/meta-st-stm32mp/recipes-security/optee/optee-os-stm32mp_4.0.0.bbappend
@@ -0,0 +1,35 @@
+FILESEXTRAPATHS:prepend := "${THISDIR}/files:"
+
+SRC_URI += " \
+     file://add-stm32mp13xxae-tcu-optee.patch \
+     "
+SRC_URI:class-devupstream += " \
+     file://add-stm32mp13xxae-tcu-optee.patch \
+     "
+
+# Adding the TCU device tree files for optee
+SRC_URI += "file://stm32mp13xxae-tcu.dts"
+SRC_URI:class-devupstream += "file://stm32mp13xxae-tcu.dts"
+
+# Adding the file pinctrl for wakeup_pins
+SRC_URI += "file://stm32mp13-pinctrl.dtsi"
+SRC_URI:class-devupstream += "file://stm32mp13-pinctrl.dtsi"
+
+# Override CFG_DRAM_SIZE board 512MB RAM and choose config MP13
+EXTRA_OEMAKE:append:stm32mp1-ies = " CFG_DRAM_SIZE=0x20000000 CFG_STM32MP13=y CFG_STM32MP15=n"
+
+do_configure:prepend() {
+    # Copy device tree into optee source
+    install -d ${S}/core/arch/arm/dts
+    install -m 0644 ${WORKDIR}/stm32mp13xxae-tcu.dts ${S}/core/arch/arm/dts/
+    
+    # Override file pinctrl
+    install -m 0644 ${WORKDIR}/stm32mp13-pinctrl.dtsi ${S}/core/arch/arm/dts/
+    
+    # Adding into subdirs.mk
+    if [ -f ${S}/core/arch/arm/dts/subdirs.mk ]; then
+        if ! grep -q "stm32mp13xxae-tcu.dts" ${S}/core/arch/arm/dts/subdirs.mk; then
+            echo "stm32mp13xxae-tcu.dts" >> ${S}/core/arch/arm/dts/subdirs.mk
+        fi
+    fi
+}
\ No newline at end of file
diff --git a/meta-st-stm32mp/recipes-st/images/core-image-minimal.bbappend b/meta-st-stm32mp/recipes-st/images/core-image-minimal.bbappend
new file mode 100644
index 00000000..e69de29b
